"use strict";(self.webpackChunkInventory_Web=self.webpackChunkInventory_Web||[]).push([[189],{4189:(Oe,b,i)=>{i.r(b),i.d(b,{PipePropertyRangeModule:()=>xe});var R=i(6814),h=i(5195),Z=i(617),A=i(5940),l=i(5313),C=i(5683),U=i(5986),d=i(6223),n=i(4221),m=i(5154),T=i(2032),w=i(1303),K=i(8645),$=i(2572),f=i(7398),D=i(9773),j=i(8180),z=i(6293);const p="[Pipe Properties Range]",y=(0,n.PH)(`${p} Get Ranges`,(0,n.Ky)()),N=(0,n.PH)(`${p} Get Ranges Success`,(0,n.Ky)()),I=(0,n.PH)(`${p} Get Ranges Failure`,(0,n.Ky)()),v=(0,n.PH)(`${p} Create PipeProperty_Range`,(0,n.Ky)()),S=(0,n.PH)(`${p} Create PipeProperty_Range Success`,(0,n.Ky)()),F=(0,n.PH)(`${p} Create PipeProperty_Range Error`,(0,n.Ky)()),x=(0,n.PH)(`${p} Update PipeProperty_Range`,(0,n.Ky)()),Y=(0,n.PH)(`${p} Update PipeProperty_Range Success`,(0,n.Ky)()),k=(0,n.PH)(`${p} Update PipeProperty_Range Error`,(0,n.Ky)()),E=(0,n.PH)(`${p} Reset Range Notifications`),P=(0,z.H)({sortComparer:function B(t,a){return t.name.localeCompare(a.name)},selectId:t=>t.pipeProperty_RangeId}),W=P.getInitialState({ids:[],entities:{},loadingRanges:!1,errorLoadingRanges:null,creatingRange:!1,createdRange:null,errorCreatingRange:null,updatingRange:!1,updatedRange:null,errorUpdatingRange:null,selectedRange:null,errorLoadingSelectedRange:null}),X=(0,n.Lq)(W,(0,n.on)(y,t=>({...t,loadingRanges:!0,errorLoadingRanges:null})),(0,n.on)(N,(t,{ranges:a})=>P.addMany(a,{...t,loadingRanges:!1,errorLoadingRanges:null})),(0,n.on)(I,(t,{errorLoadingRanges:a})=>({...t,loadingRanges:!1,errorLoadingRanges:a})),(0,n.on)(v,t=>({...t,creatingRange:!0,createdRange:null,errorCreatingRange:null})),(0,n.on)(S,(t,{range:a})=>P.addOne(a,{...t,creatingRange:!1,createdRange:a,errorCreatingRange:null})),(0,n.on)(F,(t,{errorCreatingRange:a})=>({...t,creatingRange:!1,errorCreatingRange:a})),(0,n.on)(x,t=>({...t,updatingRange:!0,errorUpdatingRange:null})),(0,n.on)(Y,(t,{id:a,range:r})=>P.updateOne({id:a,changes:r},{...t,updatingRange:!1,updatedRange:r,errorUpdatingRange:null})),(0,n.on)(k,(t,{errorUpdatingRange:a})=>({...t,updatingRange:!1,errorUpdatingRange:a})),(0,n.on)(E,t=>({...t,createdRange:null,updatedRange:null,errorLoadingRanges:null,errorCreatingRange:null,errorUpdatingRange:null})));function V(t,a){return X(t,a)}const{selectEntities:ee,selectAll:te}=P.getSelectors(),g=(0,n.ZF)("pipeProperty_Range"),ne=((0,n.P1)(g,t=>t),(0,n.P1)(g,te)),ae=((0,n.P1)(g,ee),(0,n.P1)(g,t=>t.loadingRanges)),J=(0,n.P1)(g,t=>t.errorLoadingRanges),L=((0,n.P1)(g,t=>t.creatingRange),(0,n.P1)(g,t=>t.createdRange)),H=(0,n.P1)(g,t=>t.errorCreatingRange),Q=((0,n.P1)(g,t=>t.selectedRange),(0,n.P1)(g,t=>t.errorLoadingSelectedRange)),G=((0,n.P1)(g,t=>t.updatingRange),(0,n.P1)(g,t=>t.updatedRange));(0,n.P1)(g,t=>t.errorUpdatingRange);var e=i(5879);function oe(t,a){1&t&&(e.TgZ(0,"th",25),e._uU(1,"Name"),e.qZA())}function re(t,a){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const r=a.$implicit;e.xp6(1),e.Oqu(r.name)}}function ie(t,a){1&t&&(e.TgZ(0,"th",25),e._uU(1,"Is Active"),e.qZA())}function ce(t,a){1&t&&(e.TgZ(0,"mat-icon",29),e._uU(1,"check"),e.qZA())}function se(t,a){1&t&&(e.TgZ(0,"mat-icon",30),e._uU(1,"close"),e.qZA())}function ge(t,a){if(1&t&&(e.TgZ(0,"td",26),e.YNc(1,ce,2,0,"mat-icon",27),e.YNc(2,se,2,0,"ng-template",null,28,e.W1O),e.qZA()),2&t){const r=a.$implicit,c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.isActive)("ngIfElse",c)}}function le(t,a){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Edit"),e.qZA())}function de(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"td",26)(1,"button",32),e.NdJ("click",function(){const s=e.CHM(r).$implicit,u=e.oxw();return e.KtG(u.selectRange(s))}),e._UZ(2,"mat-icon",33),e.qZA()()}}function pe(t,a){1&t&&e._UZ(0,"tr",34)}function me(t,a){1&t&&e._UZ(0,"tr",35)}function ue(t,a){1&t&&(e.TgZ(0,"div",36),e._UZ(1,"mat-progress-spinner",37),e.qZA())}function he(t,a){if(1&t&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&t){const r=a.ngIf;e.xp6(1),e.hij(" ",r," ")}}function fe(t,a){1&t&&(e.TgZ(0,"div",39),e._uU(1," Range created successfully! "),e.qZA())}function Pe(t,a){1&t&&(e.TgZ(0,"div",39),e._uU(1," Range updated successfully! "),e.qZA())}const Re=[{path:"",component:(()=>{class t{constructor(r,c){this.store=r,this.fb=c,this.displayedColumns=["name","isActive","actions"],this.editingRange=null,this.destroy$=new K.x,this.rangeForm=this.fb.group({name:["",d.kI.required],isActive:[!0,d.kI.required]}),this.dataSource=new l.by([]),this.errorMessage$=(0,$.a)([this.store.select(J),this.store.select(H),this.store.select(Q)]).pipe((0,f.U)(([o,s,u])=>o||s||u?"An error occurred":"")),this.isRangeCreated$=this.store.select(L).pipe((0,f.U)(o=>!!o)),this.isRangeUpdated$=this.store.select(G).pipe((0,f.U)(o=>!!o))}ngOnInit(){this.loadingRanges$=this.store.select(ae),this.store.dispatch(y({searchParams:null})),this.store.pipe((0,n.Ys)(ne),(0,D.R)(this.destroy$)).subscribe(r=>this.dataSource.data=r)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.loadingRangesSubscription&&this.loadingRangesSubscription.unsubscribe(),this.checkAndResetNotifications()}selectRange(r){this.editingRange=r,this.rangeForm.patchValue(r),this.checkAndResetNotifications()}checkAndResetNotifications(){(0,$.a)([this.store.select(L),this.store.select(G),this.store.select(J),this.store.select(H),this.store.select(Q)]).pipe((0,j.q)(1)).subscribe(([r,c,o,s,u])=>{(r||c||o||s||u)&&this.store.dispatch(E())})}saveOrUpdateRange(){if(this.editingRange){const c={...this.editingRange,...this.rangeForm.value};this.store.dispatch(x({id:this.editingRange.pipeProperty_RangeId,range:c}))}else this.store.dispatch(v({rangeCreate:this.rangeForm.value}));this.resetForm()}resetForm(){this.editingRange=null,this.rangeForm.reset({name:"",isActive:!0}),this.checkAndResetNotifications()}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(n.yh),e.Y36(d.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-pipe-property-range"]],decls:47,vars:19,consts:[[1,"container-tab"],[1,"section"],["mat-table","","matSort","",1,"myTable",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","class","center-text",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","small-element",4,"matRowDef","matRowDefColumns"],["class","spinner",4,"ngIf"],[1,"editor-card"],[1,"range-form",3,"formGroup"],[1,"widget-container"],["appearance","fill",1,"full-width-input"],["matInput","","formControlName","name"],["formControlName","isActive"],[1,"checkbox-label"],[1,"messages-container"],["class","error-message",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"item-buttons"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","isActive-icon",4,"ngIf","ngIfElse"],["inactiveIcon",""],[1,"isActive-icon"],[1,"isInactive-icon"],["mat-header-cell","","mat-sort-header","",1,"center-text"],["aria-label","View Range",1,"item-buttons",3,"click"],["aria-hidden","false","fontIcon","open_in_new","color","accent"],["mat-header-row",""],["mat-row","",1,"small-element"],[1,"spinner"],["color","primary","mode","indeterminate"],[1,"error-message"],[1,"alert","alert-success"]],template:function(c,o){1&c&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Range - Pipe Property"),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"table",2),e.ynx(7,3),e.YNc(8,oe,2,0,"th",4),e.YNc(9,re,2,1,"td",5),e.BQk(),e.ynx(10,6),e.YNc(11,ie,2,0,"th",4),e.YNc(12,ge,4,2,"td",5),e.BQk(),e.ynx(13,7),e.YNc(14,le,2,0,"th",8),e.YNc(15,de,3,0,"td",5),e.BQk(),e.YNc(16,pe,1,0,"tr",9),e.YNc(17,me,1,0,"tr",10),e.qZA(),e.YNc(18,ue,2,0,"div",11),e.ALo(19,"async"),e.qZA()(),e.TgZ(20,"mat-card",12)(21,"mat-card-header")(22,"mat-card-title"),e._uU(23),e.qZA()(),e.TgZ(24,"mat-card-content")(25,"form",13)(26,"div",14)(27,"mat-form-field",15)(28,"mat-label"),e._uU(29,"Name"),e.qZA(),e._UZ(30,"input",16),e.qZA(),e.TgZ(31,"mat-checkbox",17)(32,"div",18),e._uU(33,"Is Active"),e.qZA()()(),e.TgZ(34,"div",19),e.YNc(35,he,2,1,"div",20),e.ALo(36,"async"),e.YNc(37,fe,2,0,"div",21),e.ALo(38,"async"),e.YNc(39,Pe,2,0,"div",21),e.ALo(40,"async"),e.qZA()()(),e.TgZ(41,"mat-card-actions")(42,"div",22)(43,"button",23),e.NdJ("click",function(){return o.saveOrUpdateRange()}),e._uU(44),e.qZA(),e.TgZ(45,"button",24),e.NdJ("click",function(){return o.resetForm()}),e._uU(46,"Cancel"),e.qZA()()()()()),2&c&&(e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",e.lcZ(19,11,o.loadingRanges$)),e.xp6(5),e.Oqu(o.editingRange?"Edit Range":"Create New Range"),e.xp6(2),e.Q6J("formGroup",o.rangeForm),e.xp6(10),e.Q6J("ngIf",e.lcZ(36,13,o.errorMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(38,15,o.isRangeCreated$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(40,17,o.isRangeUpdated$)),e.xp6(4),e.Q6J("disabled",!o.rangeForm.valid),e.xp6(1),e.hij(" ",o.editingRange?"Update":"Create"," "))},dependencies:[R.O5,h.a8,h.hq,h.dn,h.dk,h.n5,Z.Hw,A.Ou,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,C.KE,C.hX,U.oG,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,T.Nt,R.Ov],styles:[".center-text[_ngcontent-%COMP%]{text-align:center}.messages-container[_ngcontent-%COMP%]{margin-top:0}.error-message[_ngcontent-%COMP%], .alert.alert-success[_ngcontent-%COMP%]{margin-bottom:5px}.error-message[_ngcontent-%COMP%]{color:#961b0f;font-weight:700}.alert.alert-success[_ngcontent-%COMP%]{color:#19806f;font-weight:700}.container-tab[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start}.widget-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.section[_ngcontent-%COMP%], .editor-card[_ngcontent-%COMP%]{flex:1;margin:1rem}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}.category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.full-width-input[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:20px}.isActive-icon[_ngcontent-%COMP%]{color:green}.isInactive-icon[_ngcontent-%COMP%]{color:red}.item-buttons[_ngcontent-%COMP%]{width:100%;text-align:center;border:0;background-color:transparent}.item-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:medium;margin-bottom:1rem}.item-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:8px}.mat-card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.mat-card-actions[_ngcontent-%COMP%]{margin-top:auto}.mat-card[_ngcontent-%COMP%]{text-align:center}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}mat-card-title[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem}mat-form-field[_ngcontent-%COMP%]{display:block}@media (max-width: 768px){.section[_ngcontent-%COMP%], .category-editor-card[_ngcontent-%COMP%]{width:calc(100% - 2rem)}}.mat-mdc-header-row.mdc-data-table__header-row[_ngcontent-%COMP%], .mat-mdc-header-row.mdc-data-table__header-row[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;height:auto;line-height:normal}.myTable[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.myTable[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%], .myTable[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{white-space:nowrap;width:100%;box-sizing:border-box;background-color:#fff}.myTable[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;height:1.5rem;width:1.5rem;line-height:1.5rem}.myTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.myTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}.small-element[_ngcontent-%COMP%]{height:30px;min-height:30px}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-layout[_ngcontent-%COMP%]{width:auto}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{white-space:nowrap}.checkbox-label[_ngcontent-%COMP%]{width:auto;white-space:nowrap}"]})}return t})()}];let Ce=(()=>{class t{static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[w.Bz.forChild(Re),w.Bz]})}return t})();var O=i(4664),_=i(6306),M=i(2096),ye=i(1767);let ve=(()=>{class t{constructor(r,c){this.actions$=r,this.pipePropertiesService=c,this.loadRanges$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(y),(0,O.w)(()=>this.pipePropertiesService.getRange(null).pipe((0,f.U)(o=>N({ranges:o})),(0,_.K)(o=>(0,M.of)(I({errorLoadingRanges:o}))))))),this.createRange$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(v),(0,O.w)(o=>this.pipePropertiesService.createRange(o.rangeCreate).pipe((0,f.U)(s=>S({range:s})),(0,_.K)(s=>(0,M.of)(F({errorCreatingRange:s}))))))),this.updateRange$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(x),(0,O.w)(({id:o,range:s})=>this.pipePropertiesService.updateRange(o,s).pipe((0,f.U)(()=>Y({id:o,range:s})),(0,_.K)(u=>(0,M.of)(k({errorUpdatingRange:u})))))))}static#e=this.\u0275fac=function(c){return new(c||t)(e.LFG(m.eX),e.LFG(ye.Q))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})(),xe=(()=>{class t{static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[R.ez,Ce,h.QW,Z.Ps,A.Cq,l.p0,C.lN,U.p9,d.UX,d.u5,T.c,n.Aw.forFeature("pipeProperty_Range",V),m.sQ.forFeature([ve])]})}return t})()}}]);