"use strict";(self.webpackChunkInventory_Web=self.webpackChunkInventory_Web||[]).push([[582],{5582:(Vn,F,s)=>{s.r(F),s.d(F,{DashboardModule:()=>Qn});var u=s(6814),v=s(1303),T=s(3739),b=s(5877),J=s(6437),t=s(5879),h=s(4221),C=s(617),M=s(4104);const E=(0,h.ZF)("notification"),V=(0,h.P1)(E,e=>e.notifications);var d=s(5195);function j(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("ngClass",n.type),t.xp6(1),t.hij(" ",n.message," ")}}function B(e,i){if(1&e&&(t.TgZ(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Notifications"),t.qZA()(),t.TgZ(4,"mat-card-content"),t.YNc(5,j,2,2,"div",3),t.qZA()()),2&e){const n=t.oxw().ngIf;t.xp6(5),t.Q6J("ngForOf",n)}}function z(e,i){if(1&e&&(t.ynx(0),t.YNc(1,B,6,1,"mat-card",1),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.length>0)}}let H=(()=>{class e{constructor(n){this.store=n,this.notifications$=this.store.select(V)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-hub"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","notification-container",4,"ngIf"],[1,"notification-container"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(a,o){1&a&&(t.YNc(0,z,2,1,"ng-container",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,o.notifications$))},dependencies:[u.mk,u.sg,u.O5,d.a8,d.dn,d.dk,d.n5,u.Ov],styles:[".notification-container[_ngcontent-%COMP%]{margin:1rem;border:1px solid #333333;background-color:#ddd;font-family:Tahoma,sans-serif}.notification-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700}.notification-container[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:green}.notification-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.notification-container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#000}"]})}return e})();var L=s(3293),r=s(5313),N=s(3566),S=s(1476),l=s(6223),w=s(8645),Z=s(9773),y=s(8577),q=s(5940),f=s(5683),g=s(2296),P=s(8525),U=s(3680),x=s(3305),m=s(6825);function G(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Quantity"),t.qZA())}function W(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function K(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Length (ft)"),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInFeet," ")}}function tt(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Length (m)"),t.qZA())}function et(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInMeters," ")}}function nt(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Tier"),t.qZA())}function it(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.tierNumber," ")}}function at(e,i){1&e&&(t.TgZ(0,"th",16),t._uU(1,"\xa0"),t.qZA())}function ot(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function rt(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function lt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",17)(1,"button",18),t.NdJ("click",function(o){const p=t.CHM(n).$implicit,_=t.oxw();return _.expandedElement=_.expandedElement===p?null:p,t.KtG(o.stopPropagation())}),t.YNc(2,ot,2,0,"mat-icon",19),t.YNc(3,rt,2,0,"mat-icon",19),t.qZA()()}if(2&e){const n=i.$implicit,a=t.oxw();t.xp6(2),t.Q6J("ngIf",a.expandedElement!==n),t.xp6(1),t.Q6J("ngIf",a.expandedElement===n)}}function ct(e,i){if(1&e&&(t.TgZ(0,"td",15)(1,"div",20)(2,"div",21)(3,"div")(4,"div",22)(5,"b"),t._uU(6,"Category: "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",22)(10,"b"),t._uU(11,"Condition: "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",22)(15,"b"),t._uU(16,"Grade: "),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"div",22)(20,"b"),t._uU(21,"Range: "),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()(),t.TgZ(24,"div",22)(25,"b"),t._uU(26,"Thread: "),t.qZA(),t.TgZ(27,"span"),t._uU(28),t.qZA()(),t.TgZ(29,"div",22)(30,"b"),t._uU(31,"Weight (kg/m): "),t.qZA(),t.TgZ(32,"span"),t._uU(33),t.qZA()(),t.TgZ(34,"div",22)(35,"b"),t._uU(36,"Weight (lbs/ft): "),t.qZA(),t.TgZ(37,"span"),t._uU(38),t.qZA()()(),t.TgZ(39,"div")(40,"div",22)(41,"b"),t._uU(42,"Length (m): "),t.qZA(),t.TgZ(43,"span"),t._uU(44),t.qZA()(),t.TgZ(45,"div",22)(46,"b"),t._uU(47,"Length (ft): "),t.qZA(),t.TgZ(48,"span"),t._uU(49),t.qZA()(),t.TgZ(50,"div",22)(51,"b"),t._uU(52,"Size (m): "),t.qZA(),t.TgZ(53,"span"),t._uU(54),t.qZA()(),t.TgZ(55,"div",22)(56,"b"),t._uU(57,"Size (ft): "),t.qZA(),t.TgZ(58,"span"),t._uU(59),t.qZA()(),t.TgZ(60,"div",22)(61,"b"),t._uU(62,"Wall (m): "),t.qZA(),t.TgZ(63,"span"),t._uU(64),t.qZA()(),t.TgZ(65,"div",22)(66,"b"),t._uU(67,"Wall (ft): "),t.qZA(),t.TgZ(68,"span"),t._uU(69),t.qZA()()()()()()),2&e){const n=i.$implicit,a=t.oxw();t.uIk("colspan",a.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),t.xp6(7),t.Oqu(n.pipeDefinition.category.name),t.xp6(5),t.Oqu(n.pipeDefinition.condition.name),t.xp6(5),t.Oqu(n.pipeDefinition.grade.name),t.xp6(5),t.Oqu(n.pipeDefinition.range.name),t.xp6(5),t.Oqu(n.pipeDefinition.thread.name),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInKgPerMeter),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInLbsPerFoot),t.xp6(6),t.Oqu(n.lengthInMeters),t.xp6(5),t.Oqu(n.lengthInFeet),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric)}}function st(e,i){1&e&&t._UZ(0,"tr",23)}function mt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",24),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.expandedElement=p.expandedElement===c?null:c)}),t.qZA()}if(2&e){const n=i.$implicit,a=t.oxw();t.ekj("expanded-row",a.expandedElement===n)}}function pt(e,i){1&e&&t._UZ(0,"tr",25)}const dt=function(){return["expandedDetail"]};let ut=(()=>{class e{constructor(){this.pipes=[],this.columnsToDisplay=["quantity","lengthFeet","lengthMeters","tier"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.dataSource=new r.by,this.expandedElement=null}ngOnInit(){this.dataSource.data=this.pipes}ngOnChanges(n){n.pipes&&this.updateDataSource()}updateDataSource(){this.dataSource.data=this.pipes}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pipe-detail"]],inputs:{pipes:"pipes"},features:[t.TTD],decls:21,vars:5,consts:[["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lengthFeet"],["matColumnDef","lengthMeters"],["matColumnDef","tier"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","","class","data-column-right",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-cell","",1,"data-column-right"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"element-detail"],[1,"container-description"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"element-row",3,"click"],["mat-row","",1,"detail-row"]],template:function(a,o){1&a&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,G,2,0,"th",2),t.YNc(3,W,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,K,2,0,"th",2),t.YNc(6,X,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,tt,2,0,"th",2),t.YNc(9,et,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,nt,2,0,"th",2),t.YNc(12,it,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,at,2,0,"th",8),t.YNc(15,lt,4,2,"td",9),t.BQk(),t.ynx(16,10),t.YNc(17,ct,70,15,"td",3),t.BQk(),t.YNc(18,st,1,0,"tr",11),t.YNc(19,mt,1,2,"tr",12),t.YNc(20,pt,1,0,"tr",13),t.qZA()),2&a&&(t.Q6J("dataSource",o.dataSource),t.xp6(18),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,dt)))},dependencies:[u.O5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,C.Hw,g.RK],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;width:100%}h4[_ngcontent-%COMP%]{margin-top:20;margin-bottom:0}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{padding:1px;margin:0;align-items:flex-end}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background-color:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background-color:#ddd}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function _t(e,i){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Quantity"),t.qZA())}function ft(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function gt(e,i){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Length (ft)"),t.qZA())}function ht(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInFeet," ")}}function xt(e,i){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Length (m)"),t.qZA())}function Ct(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInMeters," ")}}function Zt(e,i){1&e&&(t.TgZ(0,"th",15),t._uU(1,"\xa0"),t.qZA())}function Tt(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function wt(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function yt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",16)(1,"button",17),t.NdJ("click",function(o){const p=t.CHM(n).$implicit,_=t.oxw();return _.expandedElement=_.expandedElement===p?null:p,t.KtG(o.stopPropagation())}),t.YNc(2,Tt,2,0,"mat-icon",18),t.YNc(3,wt,2,0,"mat-icon",18),t.qZA()()}if(2&e){const n=i.$implicit,a=t.oxw();t.xp6(2),t.Q6J("ngIf",a.expandedElement!==n),t.xp6(1),t.Q6J("ngIf",a.expandedElement===n)}}function qt(e,i){if(1&e&&(t.TgZ(0,"td",14)(1,"div",19)(2,"div",20)(3,"div")(4,"div",21)(5,"b"),t._uU(6,"Category: "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",21)(10,"b"),t._uU(11,"Grade: "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()()(),t.TgZ(14,"div")(15,"div",21)(16,"b"),t._uU(17,"Size (m): "),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"div",21)(21,"b"),t._uU(22,"Size (ft): "),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.qZA()()()(),t.TgZ(25,"div",21)(26,"b"),t._uU(27,"Description:"),t.qZA(),t.TgZ(28,"span"),t._uU(29),t.qZA()(),t.TgZ(30,"div",21)(31,"b"),t._uU(32,"Notes:"),t.qZA(),t.TgZ(33,"span"),t._uU(34),t.qZA()()()()),2&e){const n=i.$implicit,a=t.oxw();t.uIk("colspan",a.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),t.xp6(7),t.Oqu(n.equipmentDefinition.category),t.xp6(5),t.Oqu(n.equipmentDefinition.grade.name),t.xp6(6),t.Oqu(n.equipmentDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.equipmentDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.equipmentDefinition.description),t.xp6(5),t.Oqu(n.equipmentDefinition.notes)}}function At(e,i){1&e&&t._UZ(0,"tr",22)}function bt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",23),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.expandedElement=p.expandedElement===c?null:c)}),t.qZA()}if(2&e){const n=i.$implicit,a=t.oxw();t.ekj("expanded-row",a.expandedElement===n)}}function vt(e,i){1&e&&t._UZ(0,"tr",24)}const Ot=function(){return["expandedDetail"]};let Dt=(()=>{class e{constructor(){this.equipment=[],this.columnsToDisplay=["quantity","lengthFeet","lengthMeters"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.dataSource=new r.by,this.expandedElement=null}ngOnInit(){this.dataSource.data=this.equipment}ngOnChanges(n){n.equipment&&this.updateDataSource()}updateDataSource(){this.dataSource.data=this.equipment}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-equipment-detail"]],inputs:{equipment:"equipment"},features:[t.TTD],decls:18,vars:5,consts:[["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lengthFeet"],["matColumnDef","lengthMeters"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","","class","data-column-right",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-cell","",1,"data-column-right"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"element-detail"],[1,"container-description",2,"padding-bottom","2px"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"element-row",3,"click"],["mat-row","",1,"detail-row"]],template:function(a,o){1&a&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,_t,2,0,"th",2),t.YNc(3,ft,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,gt,2,0,"th",2),t.YNc(6,ht,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,xt,2,0,"th",2),t.YNc(9,Ct,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,Zt,2,0,"th",7),t.YNc(12,yt,4,2,"td",8),t.BQk(),t.ynx(13,9),t.YNc(14,qt,35,8,"td",3),t.BQk(),t.YNc(15,At,1,0,"tr",10),t.YNc(16,bt,1,2,"tr",11),t.YNc(17,vt,1,0,"tr",12),t.qZA()),2&a&&(t.Q6J("dataSource",o.dataSource),t.xp6(15),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,Ot)))},dependencies:[u.O5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,C.Hw,g.RK],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;width:100%}h4[_ngcontent-%COMP%]{margin-top:20;margin-bottom:0}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{padding:1px;margin:0;align-items:flex-end}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background-color:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background-color:#ddd}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function kt(e,i){if(1&e&&(t.TgZ(0,"div",3)(1,"span"),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.rack.name)}}function Pt(e,i){if(1&e&&(t.TgZ(0,"div")(1,"b"),t._uU(2,"Jts/Tier: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.hij("",n.rack.jointsPerTier," ")}}function Ut(e,i){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"div",7),t.YNc(8,Pt,5,1,"div",8),t.qZA()()()),2&e){const n=t.oxw();t.xp6(4),t.hij("",n.rack.shopLocationName," "),t.xp6(2),t.Oqu(n.rack.description),t.xp6(2),t.Q6J("ngIf","Pipe"===n.rack.rackType)}}function Mt(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-pipe-detail",9),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("pipes",n.rack.pipeList)}}function Nt(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-equipment-detail",10),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("equipment",n.rack.equipmentList)}}function St(e,i){if(1&e&&(t.TgZ(0,"div",4)(1,"h4"),t._uU(2),t.qZA(),t.YNc(3,Mt,2,1,"ng-container",8),t.YNc(4,Nt,2,1,"ng-container",8),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Oqu("Pipe"===n.rack.rackType?"Pipe":"Equipment"),t.xp6(1),t.Q6J("ngIf","Pipe"===n.rack.rackType),t.xp6(1),t.Q6J("ngIf","Equipment"===n.rack.rackType)}}function It(e,i){1&e&&(t.TgZ(0,"div",11),t._UZ(1,"mat-progress-spinner",12),t.qZA())}let Yt=(()=>{class e{constructor(n){this.store=n,this.rack=null,this.rack$=this.store.select(y.V),this.loading=!1,this.destroy$=new w.x}ngOnInit(){this.rack$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.loading=!1,this.rack=n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-rack-view"]],decls:7,vars:4,consts:[["class","title-container",4,"ngIf"],["class","container",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"title-container"],[1,"container"],[1,"container-row"],[1,"data-column-left"],[1,"data-column-right"],[4,"ngIf"],[3,"pipes"],[3,"equipment"],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t.YNc(2,kt,3,1,"div",0),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,Ut,9,3,"div",1),t.YNc(5,St,5,3,"div",1),t.qZA(),t.YNc(6,It,2,0,"div",2),t.qZA()),2&a&&(t.xp6(2),t.Q6J("ngIf",o.rack),t.xp6(2),t.Q6J("ngIf",o.rack),t.xp6(1),t.Q6J("ngIf",o.rack),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[u.O5,q.Ou,d.a8,d.dn,d.dk,ut,Dt],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;width:100%}h4[_ngcontent-%COMP%]{margin-top:20;margin-bottom:0}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{padding:1px;margin:0;align-items:flex-end}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background-color:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background-color:#ddd}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function Rt(e,i){if(1&e&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.rackId),t.xp6(1),t.hij(" ",n.name," ")}}function Ft(e,i){if(1&e&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.shopLocationId),t.xp6(1),t.hij(" ",n.name," ")}}function Qt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Rack Name"),t.qZA())}function $t(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function Jt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Rack Type"),t.qZA())}function Et(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.rackType," ")}}function Vt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Shop"),t.qZA())}function jt(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.shopLocationName," ")}}function Bt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Details"),t.qZA())}function zt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",26)(1,"button",27),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.viewRack(c))}),t._UZ(2,"mat-icon",28),t.qZA()()}}function Ht(e,i){1&e&&t._UZ(0,"tr",29)}function Lt(e,i){1&e&&t._UZ(0,"tr",30)}function Gt(e,i){1&e&&(t.TgZ(0,"div",31),t._UZ(1,"mat-progress-spinner",32),t.qZA())}let Wt=(()=>{class e{constructor(n,a){this.router=n,this.store=a,this.displayedColumns=["name","rackType","shopName","actions"],this.dataSource=new r.by,this.racksFullList=[],this.shopsFullList=[],this.searchParams={name:null,shopId:null,rackType:null},this.destroy$=new w.x,this.racks$=this.store.select(y.ME),this.loadingRacks=!1,this.loading$=this.store.select(y.zV),this.racksFullList$=this.store.select(y.CB)}ngOnInit(){this.buildForm(),this.loadingRacks=!0,this.setDefaultDateCriteria(),this.store.dispatch((0,T.k2)({searchParams:this.searchParams})),this.racks$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.dataSource=new r.by(n),this.loadingRacks=!1,n.length>0&&this.store.dispatch((0,T.rK)({rackId:n[0].rackId})))}),this.racksFullList$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.racksFullList=n)}),this.loading$.subscribe(n=>{this.loadingRacks=n})}buildForm(){this.rackForm=new l.cw({rack:new l.NI("",[]),shop:new l.NI("",[])})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}setDefaultDateCriteria(){}filter(){this.searchParams={name:this.rackForm.value.rack,shopId:this.rackForm.value.shop,rackType:this.rackForm.value.rackType},this.loadingRacks=!0,this.store.dispatch((0,T.k2)({searchParams:this.searchParams}))}clearForm(){this.rackForm.reset(),this.searchParams={name:null,shopId:null,rackType:null},this.setDefaultDateCriteria(),this.store.dispatch((0,T.k2)({searchParams:this.searchParams}))}viewRack(n){this.store.dispatch((0,T.rK)({rackId:n.rackId}))}ngOnDestroy(){console.log(""),this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(v.F0),t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-rack"]],viewQuery:function(a,o){if(1&a&&(t.Gf(S.NW,5),t.Gf(N.YE,5)),2&a){let c;t.iGM(c=t.CRH())&&(o.paginator=c.first),t.iGM(c=t.CRH())&&(o.sort=c.first)}},decls:41,vars:7,consts:[[1,"container-tab"],[1,"section-search"],["expanded","true",1,"filter-options"],[3,"formGroup"],[1,"container-filter"],["appearance","outline","color","accent"],["formControlName","rack"],[3,"value",4,"ngFor","ngForOf"],[1,"item-buttons"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rackType"],["matColumnDef","shopName"],["matColumnDef","actions"],["mat-cell","","class","column-actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner",4,"ngIf"],[1,"section-view"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"column-actions"],["mat-icon-button","","aria-label","View tally",3,"click"],["aria-hidden","false","fontIcon","open_in_new","color","accent"],["mat-header-row",""],["mat-row",""],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-accordion")(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),t._uU(6,"Filter options"),t.qZA()(),t.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Rack"),t.qZA(),t.TgZ(12,"mat-select",6),t.YNc(13,Rt,2,2,"mat-option",7),t.qZA()(),t.TgZ(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"Shop"),t.qZA(),t.TgZ(17,"mat-select",6),t.YNc(18,Ft,2,2,"mat-option",7),t.qZA()(),t.TgZ(19,"div",8)(20,"button",9),t.NdJ("click",function(){return o.clearForm()}),t._uU(21,"Clear filters"),t.qZA(),t.TgZ(22,"button",10),t.NdJ("click",function(){return o.filter()}),t._uU(23,"Filter"),t.qZA()()()()()(),t.TgZ(24,"table",11),t.ynx(25,12),t.YNc(26,Qt,2,0,"th",13),t.YNc(27,$t,2,1,"td",14),t.BQk(),t.ynx(28,15),t.YNc(29,Jt,2,0,"th",13),t.YNc(30,Et,2,1,"td",14),t.BQk(),t.ynx(31,16),t.YNc(32,Vt,2,0,"th",13),t.YNc(33,jt,2,1,"td",14),t.BQk(),t.ynx(34,17),t.YNc(35,Bt,2,0,"th",13),t.YNc(36,zt,3,0,"td",18),t.BQk(),t.YNc(37,Ht,1,0,"tr",19),t.YNc(38,Lt,1,0,"tr",20),t.qZA(),t.YNc(39,Gt,2,0,"div",21),t.qZA(),t._UZ(40,"app-rack-view",22),t.qZA()),2&a&&(t.xp6(7),t.Q6J("formGroup",o.rackForm),t.xp6(6),t.Q6J("ngForOf",o.racksFullList),t.xp6(5),t.Q6J("ngForOf",o.shopsFullList),t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.loadingRacks))},dependencies:[u.sg,u.O5,q.Ou,f.KE,f.hX,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.a8,C.Hw,g.lW,g.RK,P.gD,U.ey,x.pp,x.ib,x.yz,x.yK,l._Y,l.JJ,l.JL,l.sg,l.u,Yt],styles:["mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.section[_ngcontent-%COMP%]{padding-left:1rem;align-self:flex-start}h4[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.column-actions[_ngcontent-%COMP%]{width:0}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem 0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:1rem;width:12rem}mat-expansion-panel[_ngcontent-%COMP%]   .date-field[_ngcontent-%COMP%]{width:auto}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1.5rem}table[_ngcontent-%COMP%]{margin-top:1rem}"]})}return e})();var O=s(5387),D=s(8145),I=s(342),A=s(4031),Y=s(2032),k=s(8034);function Kt(e,i){1&e&&(t.TgZ(0,"div",3),t._uU(1," Tally Information "),t.qZA())}function Xt(e,i){if(1&e&&(t.TgZ(0,"div",3)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.tally.tallyNumber),t.xp6(2),t.Oqu(n.displayTallyType(n.tally.tallyType))}}function te(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Quantity"),t.qZA())}function ee(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function ne(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Meters"),t.qZA())}function ie(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInMeters," ")}}function ae(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Rack"),t.qZA())}function oe(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.rackName," ")}}function re(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Tier"),t.qZA())}function le(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.tierNumber," ")}}function ce(e,i){1&e&&(t.TgZ(0,"th",25),t._uU(1,"\xa0"),t.qZA())}function se(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function me(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function pe(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",26)(1,"button",27),t.NdJ("click",function(o){const p=t.CHM(n).$implicit,_=t.oxw(2);return _.expandedElement=_.expandedElement===p?null:p,t.KtG(o.stopPropagation())}),t.YNc(2,se,2,0,"mat-icon",28),t.YNc(3,me,2,0,"mat-icon",28),t.qZA()()}if(2&e){const n=i.$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngIf",a.expandedElement!==n),t.xp6(1),t.Q6J("ngIf",a.expandedElement===n)}}function de(e,i){if(1&e&&(t.TgZ(0,"td",24)(1,"div",29)(2,"div",30)(3,"div")(4,"div",31)(5,"b"),t._uU(6,"Category: "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",31)(10,"b"),t._uU(11,"Condition: "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",31)(15,"b"),t._uU(16,"Grade: "),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"div",31)(20,"b"),t._uU(21,"Range: "),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()(),t.TgZ(24,"div",31)(25,"b"),t._uU(26,"Thread: "),t.qZA(),t.TgZ(27,"span"),t._uU(28),t.qZA()(),t.TgZ(29,"div",31)(30,"b"),t._uU(31,"Weight (kg/m): "),t.qZA(),t.TgZ(32,"span"),t._uU(33),t.qZA()(),t.TgZ(34,"div",31)(35,"b"),t._uU(36,"Weight (lbs/ft): "),t.qZA(),t.TgZ(37,"span"),t._uU(38),t.qZA()()(),t.TgZ(39,"div")(40,"div",31)(41,"b"),t._uU(42,"Length (ft): "),t.qZA(),t.TgZ(43,"span"),t._uU(44),t.qZA()(),t.TgZ(45,"div",31)(46,"b"),t._uU(47,"Size (m): "),t.qZA(),t.TgZ(48,"span"),t._uU(49),t.qZA()(),t.TgZ(50,"div",31)(51,"b"),t._uU(52,"Size (ft): "),t.qZA(),t.TgZ(53,"span"),t._uU(54),t.qZA()(),t.TgZ(55,"div",31)(56,"b"),t._uU(57,"Wall (m): "),t.qZA(),t.TgZ(58,"span"),t._uU(59),t.qZA()(),t.TgZ(60,"div",31)(61,"b"),t._uU(62,"Wall (ft): "),t.qZA(),t.TgZ(63,"span"),t._uU(64),t.qZA()()()()()()),2&e){const n=i.$implicit,a=t.oxw(2);t.uIk("colspan",a.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),t.xp6(7),t.Oqu(n.pipeDefinition.category.name),t.xp6(5),t.Oqu(n.pipeDefinition.condition.name),t.xp6(5),t.Oqu(n.pipeDefinition.grade.name),t.xp6(5),t.Oqu(n.pipeDefinition.range.name),t.xp6(5),t.Oqu(n.pipeDefinition.thread.name),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInKgPerMeter),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInLbsPerFoot),t.xp6(6),t.Oqu(n.lengthInFeet),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric)}}function ue(e,i){1&e&&t._UZ(0,"tr",32)}function _e(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.expandedElement=p.expandedElement===c?null:c)}),t.qZA()}if(2&e){const n=i.$implicit,a=t.oxw(2);t.ekj("example-expanded-row",a.expandedElement===n)}}function fe(e,i){1&e&&t._UZ(0,"tr",34)}const ge=function(){return["expandedDetail"]};function he(e,i){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t.TgZ(10,"div",7)(11,"span"),t._uU(12),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA(),t.TgZ(15,"span"),t._uU(16),t.qZA()()(),t.TgZ(17,"p"),t._uU(18),t.qZA(),t.TgZ(19,"h4"),t._uU(20,"Pipe"),t.qZA(),t.TgZ(21,"table",8),t.ynx(22,9),t.YNc(23,te,2,0,"th",10),t.YNc(24,ee,2,1,"td",11),t.BQk(),t.ynx(25,12),t.YNc(26,ne,2,0,"th",10),t.YNc(27,ie,2,1,"td",11),t.BQk(),t.ynx(28,13),t.YNc(29,ae,2,0,"th",10),t.YNc(30,oe,2,1,"td",11),t.BQk(),t.ynx(31,14),t.YNc(32,re,2,0,"th",10),t.YNc(33,le,2,1,"td",11),t.BQk(),t.ynx(34,15),t.YNc(35,ce,2,0,"th",16),t.YNc(36,pe,4,2,"td",17),t.BQk(),t.ynx(37,18),t.YNc(38,de,65,14,"td",11),t.BQk(),t.YNc(39,ue,1,0,"tr",19),t.YNc(40,_e,1,2,"tr",20),t.YNc(41,fe,1,0,"tr",21),t.qZA(),t._UZ(42,"form",22),t.qZA()),2&e){const n=t.oxw();t.xp6(4),t.hij("",n.tally.customerName," "),t.xp6(2),t.Oqu(t.xi3(7,12,n.tally.dateOfCreation,"mediumDate")),t.xp6(3),t.Oqu(n.tally.shopLocationName),t.xp6(3),t.hij("",n.tally.invoiceNumber," "),t.xp6(2),t.hij("",n.tally.weightInKg," kg"),t.xp6(2),t.hij("",n.tally.weightInLbs," lbs"),t.xp6(2),t.Oqu(n.tally.notes),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(18),t.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(15,ge)),t.xp6(1),t.Q6J("formGroup",n.tallyForm)}}function xe(e,i){1&e&&(t.TgZ(0,"div",35),t._UZ(1,"mat-progress-spinner",36),t.qZA())}let Ce=(()=>{class e{constructor(n){this.store=n,this.tally=null,this.columnsToDisplay=["quantity","lengthMeters","rack","tier"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.dataSource=new r.by,this.tally$=this.store.select(I.f$),this.loading=!1,this.destroy$=new w.x}ngOnInit(){this.tally$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.loading=!1,this.tally=n,this.dataSource=new r.by(n.pipeList))}),this.buildForm()}buildForm(){this.tallyForm=new l.cw({tallyType:new l.NI("",[]),tallyNumber:new l.NI("",[]),customer:new l.NI("",[]),dateStart:new l.NI("",[]),dateEnd:new l.NI("",[])})}displayTallyType(n){return n===O.t.TallyIn?"In":n===O.t.TallyOut?"Out":""}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-tally-view"]],decls:7,vars:4,consts:[["class","title-container",4,"ngIf"],["class","container",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"title-container"],[1,"container"],[1,"container-row"],[1,"data-column-left"],[1,"data-column-right"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lengthMeters"],["matColumnDef","rack"],["matColumnDef","tier"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","","class","column-actions",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"formGroup"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-cell","",1,"column-actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"example-element-detail"],[1,"container-description"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t.YNc(2,Kt,2,0,"div",0),t.YNc(3,Xt,5,2,"div",0),t.qZA(),t.TgZ(4,"mat-card-content"),t.YNc(5,he,43,16,"div",1),t.qZA(),t.YNc(6,xe,2,0,"div",2),t.qZA()),2&a&&(t.xp6(2),t.Q6J("ngIf",!o.tally),t.xp6(1),t.Q6J("ngIf",o.tally),t.xp6(2),t.Q6J("ngIf",o.tally),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[u.O5,q.Ou,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.a8,d.dn,d.dk,C.Hw,g.RK,l._Y,l.JL,l.sg,u.uU],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;padding:1rem;width:100%}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;width:100%}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}span[_ngcontent-%COMP%]{padding-bottom:5px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%}.container-description[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-bottom:20px}.element-description[_ngcontent-%COMP%]{padding:5px}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-top:20px}.container-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{padding-right:20px}.container-row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-right:0}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{text-align:right}h4[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.column-actions[_ngcontent-%COMP%]{width:0}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white;padding:1rem}mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem 0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:1rem;width:12rem}mat-expansion-panel[_ngcontent-%COMP%]   .date-field[_ngcontent-%COMP%]{width:auto}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1.5rem}table[_ngcontent-%COMP%]{margin-top:1rem}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function Ze(e,i){if(1&e&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.Q6J("value",n),t.xp6(1),t.Oqu(a.displayTallyType(n))}}function Te(e,i){if(1&e&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.customerId),t.xp6(1),t.hij(" ",n.name," ")}}function we(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid start date"),t.qZA())}function ye(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid end date"),t.qZA())}function qe(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Tally Number "),t.qZA())}function Ae(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.tallyNumber," ")}}function be(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Customer"),t.qZA())}function ve(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.customerName," ")}}function Oe(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Shop"),t.qZA())}function De(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.customerName," ")}}function ke(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Type"),t.qZA())}function Pe(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.displayTallyType(n.tallyType)," ")}}function Ue(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Date"),t.qZA())}function Me(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.dateOfCreation,"mediumDate")," ")}}function Ne(e,i){1&e&&t._UZ(0,"th",35)}function Se(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",37)(1,"button",38),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.viewTally(c))}),t._UZ(2,"mat-icon",39),t.qZA()()}}function Ie(e,i){1&e&&t._UZ(0,"tr",40)}function Ye(e,i){1&e&&t._UZ(0,"tr",41)}function Re(e,i){1&e&&(t.TgZ(0,"div",42),t._UZ(1,"mat-progress-spinner",43),t.qZA())}let Fe=(()=>{class e{constructor(n,a){this.router=n,this.store=a,this.displayedColumns=["tallyNumber","customerName","shopName","tallyType","date","actions"],this.dataSource=new r.by,this.tallyTypes=Object.values(O.t).filter(o=>"number"==typeof o),this.customers=[],this.customersFullList=[],this.searchParams={tallyType:null,tallyNumber:null,customerId:null,dateStart:null,dateEnd:null},this.destroy$=new w.x,this.tallies$=this.store.select(I.gu),this.loadingTallies=!1,this.loading$=this.store.select(I.hg),this.customersFullList$=this.store.select(A.JZ)}ngOnInit(){this.buildForm(),this.loadingTallies=!0,this.setDefaultDateCriteria(),this.store.dispatch((0,D.$O)({searchParams:this.searchParams})),this.tallies$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.dataSource=new r.by(n),this.loadingTallies=!1,n.length>0&&this.store.dispatch((0,D.l5)({tallyId:n[0].tallyId})))}),this.customersFullList$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.customersFullList=n)}),this.loading$.subscribe(n=>{this.loadingTallies=n})}buildForm(){this.tallyForm=new l.cw({tallyType:new l.NI("",[]),tallyNumber:new l.NI("",[]),customer:new l.NI("",[]),dateStart:new l.NI("",[]),dateEnd:new l.NI("",[])})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}setDefaultDateCriteria(){if(this.searchParams){const n=new Date;n.setDate(n.getDate()+1);const a=n.getFullYear(),o=n.getMonth()+1,c=n.getDate();n.setDate(n.getDate()+1);const p=`${a}-${o.toString().padStart(2,"0")}-${c.toString().padStart(2,"0")}`;this.searchParams.dateEnd=new Date(p).toISOString(),this.tallyForm.controls.dateEnd.setValue(p);const _=new Date;_.setMonth(n.getMonth()-1);const $n=_.getFullYear(),Jn=_.getMonth()+1,En=_.getDate(),$=`${$n}-${Jn.toString().padStart(2,"0")}-${En.toString().padStart(2,"0")}`;this.searchParams.dateStart=new Date($).toISOString(),this.tallyForm.controls.dateStart.setValue($)}}addRack(){console.log("add rack"),this.router.navigate(["/rack/add"])}filter(){const n=new Date(this.tallyForm.value.dateStart),a=new Date(this.tallyForm.value.dateEnd);this.searchParams={tallyType:this.tallyForm.value.tallyType,tallyNumber:this.tallyForm.value.tallyNumber,customerId:this.tallyForm.value.customer,dateStart:n.getFullYear()>1971?new Date(n).toISOString():null,dateEnd:a.getFullYear()>1971?new Date(a).toISOString():null},this.loadingTallies=!0,this.store.dispatch((0,D.$O)({searchParams:this.searchParams}))}clearForm(){this.tallyForm.reset(),this.searchParams={tallyType:null,tallyNumber:null,customerId:null,dateStart:null,dateEnd:null},this.setDefaultDateCriteria(),this.store.dispatch((0,D.$O)({searchParams:this.searchParams}))}displayTallyType(n){return n===O.t.TallyIn?"In":n===O.t.TallyOut?"Out":""}viewTally(n){this.store.dispatch((0,D.l5)({tallyId:n.tallyId}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(v.F0),t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-tally"]],viewQuery:function(a,o){if(1&a&&(t.Gf(S.NW,5),t.Gf(N.YE,5)),2&a){let c;t.iGM(c=t.CRH())&&(o.paginator=c.first),t.iGM(c=t.CRH())&&(o.sort=c.first)}},decls:62,vars:12,consts:[[1,"container-tab"],[1,"section-search"],["expanded","true",1,"filter-options"],[3,"formGroup"],[1,"container-filter"],["appearance","outline","color","accent"],["formControlName","tallyType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","string","placeholder","Tally Number","formControlName","tallyNumber"],["formControlName","customer"],[1,"date-field"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","dateStart","placeholder","Start date"],["matEndDate","","formControlName","dateEnd","placeholder","End date"],["matIconSuffix","",3,"for"],["picker",""],[4,"ngIf"],[1,"item-buttons"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","tallyNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customerName"],["matColumnDef","shopName"],["matColumnDef","tallyType"],["matColumnDef","date"],["matColumnDef","actions"],["mat-cell","","class","column-actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner",4,"ngIf"],[1,"section-view"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"column-actions"],["mat-icon-button","","aria-label","View tally",3,"click"],["aria-hidden","false","fontIcon","open_in_new","color","accent"],["mat-header-row",""],["mat-row",""],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-accordion")(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),t._uU(6,"Filter options"),t.qZA()(),t.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Tally Type"),t.qZA(),t.TgZ(12,"mat-select",6),t.YNc(13,Ze,2,2,"mat-option",7),t.qZA()(),t.TgZ(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"Tally Number"),t.qZA(),t._UZ(17,"input",8),t.qZA(),t.TgZ(18,"mat-form-field",5)(19,"mat-label"),t._uU(20,"Customer"),t.qZA(),t.TgZ(21,"mat-select",9),t.YNc(22,Te,2,2,"mat-option",7),t.qZA()(),t.TgZ(23,"mat-form-field",10)(24,"mat-label"),t._uU(25,"Enter a date range"),t.qZA(),t.TgZ(26,"mat-date-range-input",11),t._UZ(27,"input",12)(28,"input",13),t.qZA(),t._UZ(29,"mat-datepicker-toggle",14)(30,"mat-date-range-picker",null,15),t.YNc(32,we,2,0,"mat-error",16),t.YNc(33,ye,2,0,"mat-error",16),t.qZA(),t.TgZ(34,"div",17)(35,"button",18),t.NdJ("click",function(){return o.clearForm()}),t._uU(36,"Clear filters"),t.qZA(),t.TgZ(37,"button",19),t.NdJ("click",function(){return o.filter()}),t._uU(38,"Filter"),t.qZA()()()()()(),t.TgZ(39,"table",20),t.ynx(40,21),t.YNc(41,qe,2,0,"th",22),t.YNc(42,Ae,2,1,"td",23),t.BQk(),t.ynx(43,24),t.YNc(44,be,2,0,"th",22),t.YNc(45,ve,2,1,"td",23),t.BQk(),t.ynx(46,25),t.YNc(47,Oe,2,0,"th",22),t.YNc(48,De,2,1,"td",23),t.BQk(),t.ynx(49,26),t.YNc(50,ke,2,0,"th",22),t.YNc(51,Pe,2,1,"td",23),t.BQk(),t.ynx(52,27),t.YNc(53,Ue,2,0,"th",22),t.YNc(54,Me,3,4,"td",23),t.BQk(),t.ynx(55,28),t.YNc(56,Ne,1,0,"th",22),t.YNc(57,Se,3,0,"td",29),t.BQk(),t.YNc(58,Ie,1,0,"tr",30),t.YNc(59,Ye,1,0,"tr",31),t.qZA(),t.YNc(60,Re,2,0,"div",32),t.qZA(),t._UZ(61,"app-tally-view",33),t.qZA()),2&a){const c=t.MAs(31);t.xp6(7),t.Q6J("formGroup",o.tallyForm),t.xp6(6),t.Q6J("ngForOf",o.tallyTypes),t.xp6(9),t.Q6J("ngForOf",o.customersFullList),t.xp6(4),t.Q6J("formGroup",o.tallyForm)("rangePicker",c),t.xp6(3),t.Q6J("for",c),t.xp6(3),t.Q6J("ngIf",o.tallyForm.controls.dateStart.hasError("matStartDateInvalid")),t.xp6(1),t.Q6J("ngIf",o.tallyForm.controls.dateEnd.hasError("matEndDateInvalid")),t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.loadingTallies)}},dependencies:[u.sg,u.O5,q.Ou,f.KE,f.hX,f.TO,f.R9,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.a8,C.Hw,g.lW,g.RK,Y.Nt,P.gD,U.ey,x.pp,x.ib,x.yz,x.yK,k.nW,k.wx,k.zY,k.By,k._g,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Ce,u.uU],styles:["mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}h4[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.column-actions[_ngcontent-%COMP%]{width:0}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem 0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:1rem;width:12rem}mat-expansion-panel[_ngcontent-%COMP%]   .date-field[_ngcontent-%COMP%]{width:auto}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1.5rem}table[_ngcontent-%COMP%]{margin-top:1rem}"]})}return e})();function Qe(e,i){1&e&&(t.TgZ(0,"div",3),t._uU(1," Customer Information "),t.qZA())}function $e(e,i){if(1&e&&(t.TgZ(0,"div",3)(1,"span"),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.customer.name)}}function Je(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Quantity"),t.qZA())}function Ee(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function Ve(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Meters"),t.qZA())}function je(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInMeters," ")}}function Be(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Rack"),t.qZA())}function ze(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.rackName," ")}}function He(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Tier"),t.qZA())}function Le(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.tierNumber," ")}}function Ge(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"\xa0"),t.qZA())}function We(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function Ke(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function Xe(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",25)(1,"button",26),t.NdJ("click",function(o){const p=t.CHM(n).$implicit,_=t.oxw(2);return _.expandedElement=_.expandedElement===p?null:p,t.KtG(o.stopPropagation())}),t.YNc(2,We,2,0,"mat-icon",27),t.YNc(3,Ke,2,0,"mat-icon",27),t.qZA()()}if(2&e){const n=i.$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngIf",a.expandedElement!==n),t.xp6(1),t.Q6J("ngIf",a.expandedElement===n)}}function tn(e,i){if(1&e&&(t.TgZ(0,"td",23)(1,"div",28)(2,"div",29)(3,"div")(4,"div",30)(5,"b"),t._uU(6,"Category: "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",30)(10,"b"),t._uU(11,"Condition: "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",30)(15,"b"),t._uU(16,"Grade: "),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"div",30)(20,"b"),t._uU(21,"Range: "),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()(),t.TgZ(24,"div",30)(25,"b"),t._uU(26,"Thread: "),t.qZA(),t.TgZ(27,"span"),t._uU(28),t.qZA()(),t.TgZ(29,"div",30)(30,"b"),t._uU(31,"Weight (kg/m): "),t.qZA(),t.TgZ(32,"span"),t._uU(33),t.qZA()(),t.TgZ(34,"div",30)(35,"b"),t._uU(36,"Weight (lbs/ft): "),t.qZA(),t.TgZ(37,"span"),t._uU(38),t.qZA()()(),t.TgZ(39,"div")(40,"div",30)(41,"b"),t._uU(42,"Length (ft): "),t.qZA(),t.TgZ(43,"span"),t._uU(44),t.qZA()(),t.TgZ(45,"div",30)(46,"b"),t._uU(47,"Size (m): "),t.qZA(),t.TgZ(48,"span"),t._uU(49),t.qZA()(),t.TgZ(50,"div",30)(51,"b"),t._uU(52,"Size (ft): "),t.qZA(),t.TgZ(53,"span"),t._uU(54),t.qZA()(),t.TgZ(55,"div",30)(56,"b"),t._uU(57,"Wall (m): "),t.qZA(),t.TgZ(58,"span"),t._uU(59),t.qZA()(),t.TgZ(60,"div",30)(61,"b"),t._uU(62,"Wall (ft): "),t.qZA(),t.TgZ(63,"span"),t._uU(64),t.qZA()()()()()()),2&e){const n=i.$implicit,a=t.oxw(2);t.uIk("colspan",a.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),t.xp6(7),t.Oqu(n.pipeDefinition.category.name),t.xp6(5),t.Oqu(n.pipeDefinition.condition.name),t.xp6(5),t.Oqu(n.pipeDefinition.grade.name),t.xp6(5),t.Oqu(n.pipeDefinition.range.name),t.xp6(5),t.Oqu(n.pipeDefinition.thread.name),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInKgPerMeter),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInLbsPerFoot),t.xp6(6),t.Oqu(n.lengthInFeet),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric)}}function en(e,i){1&e&&t._UZ(0,"tr",31)}function nn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",32),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.expandedElement=p.expandedElement===c?null:c)}),t.qZA()}if(2&e){const n=i.$implicit,a=t.oxw(2);t.ekj("example-expanded-row",a.expandedElement===n)}}function an(e,i){1&e&&t._UZ(0,"tr",33)}const on=function(){return["expandedDetail"]};function rn(e,i){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()(),t.TgZ(11,"div",7)(12,"span"),t._uU(13),t.qZA()()(),t.TgZ(14,"h4"),t._uU(15,"Pipe"),t.qZA(),t.TgZ(16,"table",8),t.ynx(17,9),t.YNc(18,Je,2,0,"th",10),t.YNc(19,Ee,2,1,"td",11),t.BQk(),t.ynx(20,12),t.YNc(21,Ve,2,0,"th",10),t.YNc(22,je,2,1,"td",11),t.BQk(),t.ynx(23,13),t.YNc(24,Be,2,0,"th",10),t.YNc(25,ze,2,1,"td",11),t.BQk(),t.ynx(26,14),t.YNc(27,He,2,0,"th",10),t.YNc(28,Le,2,1,"td",11),t.BQk(),t.ynx(29,15),t.YNc(30,Ge,2,0,"th",16),t.YNc(31,Xe,4,2,"td",17),t.BQk(),t.ynx(32,18),t.YNc(33,tn,65,14,"td",11),t.BQk(),t.YNc(34,en,1,0,"tr",19),t.YNc(35,nn,1,2,"tr",20),t.YNc(36,an,1,0,"tr",21),t.qZA()()),2&e){const n=t.oxw();t.xp6(4),t.hij("",n.customer.address1," "),t.xp6(2),t.Oqu(n.customer.city),t.xp6(2),t.Oqu(n.customer.country),t.xp6(2),t.Oqu(n.customer.postalCode),t.xp6(3),t.hij("",n.customer.email," "),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(18),t.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(9,on))}}function ln(e,i){1&e&&(t.TgZ(0,"div",34),t._UZ(1,"mat-progress-spinner",35),t.qZA())}let cn=(()=>{class e{constructor(n){this.store=n,this.customer=null,this.columnsToDisplay=["quantity","lengthMeters","rack","tier"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.dataSource=new r.by,this.customer$=this.store.select(A.HY),this.loading=!1,this.destroy$=new w.x}ngOnInit(){this.customer$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.loading=!1,this.customer=n.customer,this.dataSource=new r.by(n.pipeList))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-customer-view"]],decls:7,vars:4,consts:[["class","title-container",4,"ngIf"],["class","container",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"title-container"],[1,"container"],[1,"container-row"],[1,"data-column-left"],[1,"data-column-right"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lengthMeters"],["matColumnDef","rack"],["matColumnDef","tier"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","","class","column-actions",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-cell","",1,"column-actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"example-element-detail"],[1,"container-description"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t.YNc(2,Qe,2,0,"div",0),t.YNc(3,$e,3,1,"div",0),t.qZA(),t.TgZ(4,"mat-card-content"),t.YNc(5,rn,37,10,"div",1),t.qZA(),t.YNc(6,ln,2,0,"div",2),t.qZA()),2&a&&(t.xp6(2),t.Q6J("ngIf",!o.customer),t.xp6(1),t.Q6J("ngIf",o.customer),t.xp6(2),t.Q6J("ngIf",o.customer),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[u.O5,q.Ou,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.a8,d.dn,d.dk,C.Hw,g.RK],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;padding:1rem;width:100%}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;width:100%}span[_ngcontent-%COMP%]{padding-bottom:5px}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-top:20px}.container-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{padding-right:20px}.container-row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-right:0}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{text-align:right}h4[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.column-actions[_ngcontent-%COMP%]{width:0}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white;padding:1rem}mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem 0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:1rem;width:12rem}mat-expansion-panel[_ngcontent-%COMP%]   .date-field[_ngcontent-%COMP%]{width:auto}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1.5rem}table[_ngcontent-%COMP%]{margin-top:1rem}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function sn(e,i){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.customerId),t.xp6(1),t.hij(" ",n.name," ")}}function mn(e,i){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Name "),t.qZA())}function pn(e,i){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function dn(e,i){1&e&&(t.TgZ(0,"th",26),t._uU(1,"City"),t.qZA())}function un(e,i){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.city," ")}}function _n(e,i){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Province/State"),t.qZA())}function fn(e,i){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.provinceState," ")}}function gn(e,i){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Country"),t.qZA())}function hn(e,i){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.country," ")}}function xn(e,i){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Email"),t.qZA())}function Cn(e,i){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function Zn(e,i){1&e&&t._UZ(0,"th",26)}function Tn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",28)(1,"button",29),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.viewCustomer(c))}),t._UZ(2,"mat-icon",30),t.qZA()()}}function wn(e,i){1&e&&t._UZ(0,"tr",31)}function yn(e,i){1&e&&t._UZ(0,"tr",32)}function qn(e,i){1&e&&(t.TgZ(0,"div",33),t._UZ(1,"mat-progress-spinner",34),t.qZA())}let An=(()=>{class e{constructor(n){this.store=n,this.displayedColumns=["name","city","provinceState","country","email","actions"],this.dataSource=new r.by,this.customersFullList=[],this.searchParams={customerId:null},this.destroy$=new w.x,this.customers$=this.store.select(A.p6),this.loadingCustomers=!1,this.loading$=this.store.select(A.qX),this.customersFullList$=this.store.select(A.JZ)}ngOnInit(){this.buildForm(),this.loadingCustomers=!0,this.store.dispatch((0,b.Mm)({searchParams:this.searchParams})),this.customers$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.dataSource=new r.by(n),this.loadingCustomers=!1,n.length>0&&this.store.dispatch((0,b.Ps)({customerId:n[0].customerId})))}),this.customersFullList$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.customersFullList=n)}),this.loading$.subscribe(n=>{this.loadingCustomers=n})}buildForm(){this.customerForm=new l.cw({customer:new l.NI("",[])})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(){this.searchParams={customerId:this.customerForm.value.customer},this.loadingCustomers=!0,this.store.dispatch((0,b.Mm)({searchParams:this.searchParams}))}clearForm(){this.customerForm.reset(),this.searchParams={customerId:null},this.store.dispatch((0,b.Mm)({searchParams:this.searchParams}))}viewCustomer(n){this.store.dispatch((0,b.Ps)({customerId:n.customerId}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-customer"]],viewQuery:function(a,o){if(1&a&&(t.Gf(S.NW,5),t.Gf(N.YE,5)),2&a){let c;t.iGM(c=t.CRH())&&(o.paginator=c.first),t.iGM(c=t.CRH())&&(o.sort=c.first)}},decls:42,vars:6,consts:[[1,"container-tab"],[1,"section-search"],["expanded","true",1,"filter-options"],[3,"formGroup"],[1,"container-filter"],["appearance","outline","color","accent"],["formControlName","customer"],[3,"value",4,"ngFor","ngForOf"],[1,"item-buttons"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","city"],["matColumnDef","provinceState"],["matColumnDef","country"],["matColumnDef","email"],["matColumnDef","actions"],["mat-cell","","class","column-actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner",4,"ngIf"],[1,"section-view"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"column-actions"],["mat-icon-button","","aria-label","View tally",3,"click"],["aria-hidden","false","fontIcon","open_in_new","color","accent"],["mat-header-row",""],["mat-row",""],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-accordion")(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),t._uU(6,"Filter options"),t.qZA()(),t.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Customer"),t.qZA(),t.TgZ(12,"mat-select",6),t.YNc(13,sn,2,2,"mat-option",7),t.qZA()(),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return o.clearForm()}),t._uU(16,"Clear filters"),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.filter()}),t._uU(18,"Filter"),t.qZA()()()()()(),t.TgZ(19,"table",11),t.ynx(20,12),t.YNc(21,mn,2,0,"th",13),t.YNc(22,pn,2,1,"td",14),t.BQk(),t.ynx(23,15),t.YNc(24,dn,2,0,"th",13),t.YNc(25,un,2,1,"td",14),t.BQk(),t.ynx(26,16),t.YNc(27,_n,2,0,"th",13),t.YNc(28,fn,2,1,"td",14),t.BQk(),t.ynx(29,17),t.YNc(30,gn,2,0,"th",13),t.YNc(31,hn,2,1,"td",14),t.BQk(),t.ynx(32,18),t.YNc(33,xn,2,0,"th",13),t.YNc(34,Cn,2,1,"td",14),t.BQk(),t.ynx(35,19),t.YNc(36,Zn,1,0,"th",13),t.YNc(37,Tn,3,0,"td",20),t.BQk(),t.YNc(38,wn,1,0,"tr",21),t.YNc(39,yn,1,0,"tr",22),t.qZA(),t.YNc(40,qn,2,0,"div",23),t.qZA(),t._UZ(41,"app-customer-view",24),t.qZA()),2&a&&(t.xp6(7),t.Q6J("formGroup",o.customerForm),t.xp6(6),t.Q6J("ngForOf",o.customersFullList),t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.loadingCustomers))},dependencies:[u.sg,u.O5,q.Ou,f.KE,f.hX,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.a8,C.Hw,g.lW,g.RK,P.gD,U.ey,x.pp,x.ib,x.yz,x.yK,l._Y,l.JJ,l.JL,l.sg,l.u,cn],styles:["mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.section[_ngcontent-%COMP%]{padding-left:1rem;align-self:flex-start}h4[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.column-actions[_ngcontent-%COMP%]{width:0}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem 0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:1rem;width:12rem}mat-expansion-panel[_ngcontent-%COMP%]   .date-field[_ngcontent-%COMP%]{width:auto}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1.5rem}table[_ngcontent-%COMP%]{margin-top:1rem}"]})}return e})();var R=s(7700),Q=s(5124);function bn(e,i){1&e&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA()),2&e&&(t.xp6(1),t.Q6J("diameter",30))}let vn=(()=>{class e{constructor(n,a,o){this.store=n,this.dialogRef=a,this.notificationService=o,this.isInit=!0,this.loading=!0,this.error=null,this.destroy$=new w.x,this.creatingCustomer$=this.store.select(A.W8),this.createdCustomer$=this.store.select(A.Y),this.error$=this.store.select(A.oY)}ngOnInit(){this.buildForm(),this.error$.subscribe(n=>{n&&(console.error(n),this.error=n,this.notificationService.success("There was a problem creating the customer. "))}),this.createdCustomer$.subscribe(n=>{console.log("customer: ",n),n&&!this.isInit&&(this.notificationService.success("Customer Created Successfully"),this.notificationService.error("THIS IS AN ERROR"),this.dialogRef.close())}),this.creatingCustomer$.subscribe(n=>{this.loading=n})}buildForm(){this.customerAddForm=new l.cw({name:new l.NI(null,[l.kI.required]),address1:new l.NI(null),address2:new l.NI(null),city:new l.NI(null),provinceState:new l.NI(null),postalCode:new l.NI(null),email:new l.NI(null,[l.kI.email])})}addCustomer(){if(this.customerAddForm.valid){const n={name:this.customerAddForm.value.name,address1:this.customerAddForm.value.address1,address2:this.customerAddForm.value.address2,city:this.customerAddForm.value.city,provinceState:this.customerAddForm.value.provinceState,postalCode:this.customerAddForm.value.postalCode,email:this.customerAddForm.value.email};this.isInit=!1,this.store.dispatch((0,b.Wb)({customerCreate:n}))}else this.customerAddForm.markAllAsTouched()}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh),t.Y36(R.so),t.Y36(Q.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-customer-add"]],decls:54,vars:2,consts:[[1,"tally-card"],[1,"close-icon",3,"click"],[3,"formGroup"],["appearance","outline","color","accent"],["matInput","","placeholder","Customer name","formControlName","name","required",""],["matInput","","placeholder","Address line 1","formControlName","address1"],["matInput","","placeholder","Address line 2","formControlName","address2"],["matInput","","placeholder","City","formControlName","city"],["matInput","","placeholder","Province/State","formControlName","provinceState","maxlength","2"],["matInput","","placeholder","Postal Code/Zip","formControlName","postalCode"],["matInput","","placeholder","Email","formControlName","email"],["class","spinner-container",4,"ngIf"],["mat-raised-button","","color","primary",1,"item",3,"click"],["mat-raised-button","",1,"item",3,"click"],[1,"spinner-container"],[3,"diameter"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Add Customer"),t.qZA(),t.TgZ(4,"mat-icon",1),t.NdJ("click",function(){return o.closeDialog()}),t._uU(5,"close"),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"div")(8,"form",2)(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Customer Name"),t.qZA(),t._UZ(12,"input",4),t.TgZ(13,"mat-error"),t._uU(14," Please provide a customer name "),t.qZA()(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Address Line 1"),t.qZA(),t._UZ(18,"input",5),t.TgZ(19,"mat-error"),t._uU(20," Please provide an address "),t.qZA()(),t.TgZ(21,"mat-form-field",3)(22,"mat-label"),t._uU(23,"Address Line 2"),t.qZA(),t._UZ(24,"input",6),t.qZA(),t.TgZ(25,"mat-form-field",3)(26,"mat-label"),t._uU(27,"City"),t.qZA(),t._UZ(28,"input",7),t.TgZ(29,"mat-error"),t._uU(30," Please provide a city "),t.qZA()(),t.TgZ(31,"mat-form-field",3)(32,"mat-label"),t._uU(33,"Province/State"),t.qZA(),t._UZ(34,"input",8),t.TgZ(35,"mat-error"),t._uU(36," Please provide a province/state "),t.qZA()(),t.TgZ(37,"mat-form-field",3)(38,"mat-label"),t._uU(39,"Postal Code/Zip"),t.qZA(),t._UZ(40,"input",9),t.TgZ(41,"mat-error"),t._uU(42," Please provide a postal code/zip "),t.qZA()(),t.TgZ(43,"mat-form-field",3)(44,"mat-label"),t._uU(45,"Email"),t.qZA(),t._UZ(46,"input",10),t.TgZ(47,"mat-error"),t._uU(48," Please provide a valid email "),t.qZA()(),t.YNc(49,bn,2,1,"div",11),t.TgZ(50,"button",12),t.NdJ("click",function(){return o.addCustomer()}),t._uU(51,"Add Customer"),t.qZA(),t.TgZ(52,"button",13),t.NdJ("click",function(){return o.closeDialog()}),t._uU(53,"Cancel"),t.qZA()()()()()),2&a&&(t.xp6(8),t.Q6J("formGroup",o.customerAddForm),t.xp6(41),t.Q6J("ngIf",o.loading))},dependencies:[u.O5,q.Ou,f.KE,f.hX,f.TO,d.a8,d.dn,d.dk,d.n5,C.Hw,g.lW,Y.Nt,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-card[_ngcontent-%COMP%]{width:500px;margin:auto}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}h1[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.close-icon[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer}button[_ngcontent-%COMP%]{margin-right:1rem}"]})}return e})();function On(e,i){if(1&e&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.shopLocationId),t.xp6(1),t.hij(" ",n.name," ")}}function Dn(e,i){1&e&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA()),2&e&&(t.xp6(1),t.Q6J("diameter",30))}let kn=(()=>{class e{constructor(n,a,o){this.store=n,this.dialogRef=a,this.notificationService=o,this.isInit=!0,this.loading=!0,this.error=null,this.destroy$=new w.x,this.shops=[],this.shopsFullList$=this.store.select(y.CZ),this.creatingRack$=this.store.select(y.SQ),this.createdRack$=this.store.select(y.dv),this.error$=this.store.select(y.RL)}ngOnInit(){this.buildForm(),this.shopsFullList$.pipe((0,Z.R)(this.destroy$)).subscribe(n=>{n&&(this.shops=n)}),this.error$.subscribe(n=>{n&&(console.error(n),this.error=n,this.notificationService.success("There was a problem creating the customer. "))}),this.createdRack$.subscribe(n=>{n&&!this.isInit&&(this.notificationService.success("Rack Created Successfully"),this.dialogRef.close())}),this.creatingRack$.subscribe(n=>{this.loading=n})}buildForm(){this.rackAddForm=new l.cw({name:new l.NI(null,[l.kI.required]),shopLocation:new l.NI(null,[l.kI.required]),jointsPerTier:new l.NI(null,[l.kI.required]),description:new l.NI(null)})}addRack(){if(this.rackAddForm.valid){const n={name:this.rackAddForm.value.name,shopLocationId:"A671AF6A-8AA7-4D49-B08B-88003ADCA01C",isActive:!0,description:this.rackAddForm.value.description,jointsPerTier:this.rackAddForm.value.jointsPerTier,rackType:this.rackAddForm.value.rackType};this.isInit=!1,this.store.dispatch((0,T.q4)({rackCreate:n}))}else this.rackAddForm.markAllAsTouched()}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh),t.Y36(R.so),t.Y36(Q.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-rack-add"]],decls:39,vars:3,consts:[[1,"tally-card"],[1,"close-icon",3,"click"],[3,"formGroup"],["appearance","outline","color","accent"],["matInput","","placeholder","Rack name","formControlName","name","required",""],["formControlName","shopLocation"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Joints per tier","formControlName","jointsPerTier","rqeuired",""],["matInput","","placeholder","Rack Type","formControlName","rackType"],["matInput","","placeholder","Description","formControlName","description"],["class","spinner-container",4,"ngIf"],["mat-raised-button","","color","primary",1,"item",3,"click"],["mat-raised-button","",1,"item",3,"click"],[3,"value"],[1,"spinner-container"],[3,"diameter"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Add Rack"),t.qZA(),t.TgZ(4,"mat-icon",1),t.NdJ("click",function(){return o.closeDialog()}),t._uU(5,"close"),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"div")(8,"form",2)(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Rack Name"),t.qZA(),t._UZ(12,"input",4),t.TgZ(13,"mat-error"),t._uU(14," Please provide a rack name "),t.qZA()(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Shop"),t.qZA(),t.TgZ(18,"mat-select",5),t.YNc(19,On,2,2,"mat-option",6),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Joints per tier"),t.qZA(),t._UZ(23,"input",7),t.TgZ(24,"mat-error"),t._uU(25," Please provide a city "),t.qZA()(),t.TgZ(26,"mat-form-field",3)(27,"mat-label"),t._uU(28,"Rack Type"),t.qZA(),t._UZ(29,"input",8),t.qZA(),t.TgZ(30,"mat-form-field",3)(31,"mat-label"),t._uU(32,"Description"),t.qZA(),t._UZ(33,"input",9),t.qZA(),t.YNc(34,Dn,2,1,"div",10),t.TgZ(35,"button",11),t.NdJ("click",function(){return o.addRack()}),t._uU(36,"Add Rack"),t.qZA(),t.TgZ(37,"button",12),t.NdJ("click",function(){return o.closeDialog()}),t._uU(38,"Cancel"),t.qZA()()()()()),2&a&&(t.xp6(8),t.Q6J("formGroup",o.rackAddForm),t.xp6(11),t.Q6J("ngForOf",o.shops),t.xp6(15),t.Q6J("ngIf",o.loading))},dependencies:[u.sg,u.O5,q.Ou,f.KE,f.hX,f.TO,d.a8,d.dn,d.dk,d.n5,C.Hw,g.lW,Y.Nt,P.gD,U.ey,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-card[_ngcontent-%COMP%]{width:500px;margin:auto}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}h1[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.close-icon[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer}button[_ngcontent-%COMP%]{margin-right:1rem}"]})}return e})(),Pn=(()=>{class e{constructor(n,a){this.dialog=n,this.router=a}openAddTallyDialog(){this.router.navigate(["/tally/add"])}openAddCustomerDialog(){this.dialog.open(vn).afterClosed().subscribe(a=>{console.log("The dialog was closed")})}openAddRackDialog(){this.dialog.open(kn).afterClosed().subscribe(a=>{console.log("The dialog was closed")})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(R.uw),t.Y36(v.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-actions-bar"]],decls:13,vars:0,consts:[[1,"container"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"button",1),t.NdJ("click",function(){return o.openAddTallyDialog()}),t.TgZ(2,"mat-icon"),t._uU(3,"assignment_add"),t.qZA(),t._uU(4," Add Tally "),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.openAddRackDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8," Add Rack "),t.qZA(),t.TgZ(9,"button",1),t.NdJ("click",function(){return o.openAddCustomerDialog()}),t.TgZ(10,"mat-icon"),t._uU(11,"person_add"),t.qZA(),t._uU(12," Add Customer "),t.qZA()())},dependencies:[d.a8,C.Hw,g.lW],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin:1rem;padding:1rem;border:1px solid green}button[_ngcontent-%COMP%]{margin-right:1rem}"]})}return e})();function Un(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"plumbing"),t.qZA(),t._uU(2," Search by Pipe "))}function Mn(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"assignment"),t.qZA(),t._uU(2," Search by Tally "))}function Nn(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"view_list"),t.qZA(),t._uU(2," Search by Rack "))}function Sn(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"group"),t.qZA(),t._uU(2," Search by Customer "))}const In=[{path:"",component:(()=>{class e{constructor(n){this.store=n}ngOnInit(){this.store.dispatch((0,b.cR)({searchParams:null})),this.store.dispatch((0,T.Sz)({searchParams:null})),this.store.dispatch((0,J.Jp)({searchParams:null})),this.store.dispatch((0,T.NW)())}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:18,vars:0,consts:[[1,"container"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"section"],["mat-tab-label",""]],template:function(a,o){1&a&&(t.TgZ(0,"div"),t._UZ(1,"app-notification-hub"),t.qZA(),t.TgZ(2,"div"),t._UZ(3,"app-actions-bar"),t.qZA(),t.TgZ(4,"div",0)(5,"mat-tab-group",1)(6,"mat-tab"),t.YNc(7,Un,3,0,"ng-template",2),t._UZ(8,"app-search-pipe"),t.qZA(),t.TgZ(9,"mat-tab"),t.YNc(10,Mn,3,0,"ng-template",2),t._UZ(11,"app-search-tally"),t.qZA(),t.TgZ(12,"mat-tab"),t.YNc(13,Nn,3,0,"ng-template",2),t._UZ(14,"app-search-rack"),t.qZA(),t.TgZ(15,"mat-tab"),t.YNc(16,Sn,3,0,"ng-template",2),t._UZ(17,"app-search-customer"),t.qZA()()())},dependencies:[C.Hw,M.uD,M.uX,M.SP,H,L.y,Wt,Fe,An,Pn],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin:1rem}.section[_ngcontent-%COMP%]{width:100%}.item-rack-list[_ngcontent-%COMP%]{border:1px solid green}"]})}return e})()}];let Yn=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[v.Bz.forChild(In),v.Bz]})}return e})();var Rn=s(5789),Fn=s(6208);let Qn=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.ez,Yn,Rn.q,Fn.m]})}return e})()}}]);