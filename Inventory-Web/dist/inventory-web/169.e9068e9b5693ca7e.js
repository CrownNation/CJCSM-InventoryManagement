"use strict";(self.webpackChunkInventory_Web=self.webpackChunkInventory_Web||[]).push([[169],{6169:(Ft,y,r)=>{r.r(y),r.d(y,{SearchRackModule:()=>Jt});var u=r(6814),M=r(5789),b=r(6208),w=r(1303),c=r(5313),d=r(3566),v=r(1476),m=r(6223),P=r(8645),C=r(9773),A=r(6306),U=r(2096),f=r(8577),g=r(3739),R=r(4124),O=r(7340),N=r(5878),t=r(5879),k=r(4221),S=r(8128),q=r(5940),D=r(5683),h=r(5195),Z=r(617),_=r(2296),E=r(2032),Y=r(8525),I=r(3680),x=r(3305),s=r(6825);function Q(e,i){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Quantity"),t.qZA())}function V(e,i){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function j(e,i){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Length (ft)"),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInFeet," ")}}function F(e,i){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Length (m)"),t.qZA())}function $(e,i){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInMeters," ")}}function B(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Tier"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.tierNumber," ")}}function H(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"\xa0"),t.qZA())}function z(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function G(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function W(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",23)(1,"button",24),t.NdJ("click",function(o){const p=t.CHM(n).$implicit;return t.oxw().toggleRow(p),t.KtG(o.stopPropagation())}),t.YNc(2,z,2,0,"mat-icon",25),t.YNc(3,G,2,0,"mat-icon",25),t.qZA()()}if(2&e){const n=i.$implicit,a=t.oxw();t.xp6(2),t.Q6J("ngIf",!a.isRowExpanded(n)),t.xp6(1),t.Q6J("ngIf",a.isRowExpanded(n))}}function K(e,i){if(1&e&&(t.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"b"),t._uU(5,"Category: "),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"div",30)(9,"b"),t._uU(10,"Condition: "),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t.TgZ(13,"div",30)(14,"b"),t._uU(15,"Grade: "),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"div",30)(19,"b"),t._uU(20,"Range: "),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA()(),t.TgZ(23,"div",30)(24,"b"),t._uU(25,"Thread: "),t.qZA(),t.TgZ(26,"span"),t._uU(27),t.qZA()(),t.TgZ(28,"div",30)(29,"b"),t._uU(30,"Weight (kg/m): "),t.qZA(),t.TgZ(31,"span"),t._uU(32),t.qZA()(),t.TgZ(33,"div",30)(34,"b"),t._uU(35,"Weight (lbs/ft): "),t.qZA(),t.TgZ(36,"span"),t._uU(37),t.qZA()()(),t.TgZ(38,"div",29)(39,"div",30)(40,"b"),t._uU(41,"Length (m): "),t.qZA(),t.TgZ(42,"span"),t._uU(43),t.qZA()(),t.TgZ(44,"div",30)(45,"b"),t._uU(46,"Length (ft): "),t.qZA(),t.TgZ(47,"span"),t._uU(48),t.qZA()(),t.TgZ(49,"div",30)(50,"b"),t._uU(51,"Size (m): "),t.qZA(),t.TgZ(52,"span"),t._uU(53),t.qZA()(),t.TgZ(54,"div",30)(55,"b"),t._uU(56,"Size (ft): "),t.qZA(),t.TgZ(57,"span"),t._uU(58),t.qZA()(),t.TgZ(59,"div",30)(60,"b"),t._uU(61,"Wall (m): "),t.qZA(),t.TgZ(62,"span"),t._uU(63),t.qZA()(),t.TgZ(64,"div",30)(65,"b"),t._uU(66,"Wall (ft): "),t.qZA(),t.TgZ(67,"span"),t._uU(68),t.qZA()()()()()),2&e){const n=t.oxw().$implicit;t.xp6(7),t.Oqu(n.pipeDefinition.category.name),t.xp6(5),t.Oqu(n.pipeDefinition.condition.name),t.xp6(5),t.Oqu(n.pipeDefinition.grade.name),t.xp6(5),t.Oqu(n.pipeDefinition.range.name),t.xp6(5),t.Oqu(n.pipeDefinition.thread.name),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInKgPerMeter),t.xp6(5),t.Oqu(n.pipeDefinition.weight.weightInLbsPerFoot),t.xp6(6),t.Oqu(n.lengthInMeters),t.xp6(5),t.Oqu(n.lengthInFeet),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric),t.xp6(5),t.Oqu(n.pipeDefinition.wall.wallMetric)}}function X(e,i){if(1&e&&(t.TgZ(0,"td",18),t.YNc(1,K,69,13,"div",26),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.uIk("colspan",a.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("ngIf",a.isRowExpanded(n))}}function tt(e,i){1&e&&t._UZ(0,"tr",31)}function et(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",32),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.toggleRow(l))}),t.qZA()}if(2&e){const n=i.$implicit,a=t.oxw();t.ekj("expanded-row",a.isRowExpanded(n))}}function nt(e,i){1&e&&t._UZ(0,"tr",33)}const it=function(){return["expandedDetail"]};let at=(()=>{class e{constructor(){this.pipes=[],this.columnsToDisplay=["quantity","lengthFeet","lengthMeters","tier"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.dataSource=new c.by,this.expandedRows=new Map}ngOnInit(){this.dataSource.data=this.pipes}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnChanges(n){n.pipes&&this.updateDataSource()}updateDataSource(){this.dataSource.data=this.pipes,this.pipes.forEach(n=>this.expandedRows.set(n.pipeId,!1))}toggleRow(n){this.expandedRows.set(n.pipeId,!this.expandedRows.get(n.pipeId))}isRowExpanded(n){return!!this.expandedRows.get(n.pipeId)}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pipe-detail"]],viewQuery:function(a,o){if(1&a&&t.Gf(d.YE,5),2&a){let l;t.iGM(l=t.CRH())&&(o.sort=l.first)}},inputs:{pipes:"pipes"},features:[t.TTD],decls:21,vars:5,consts:[["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","quantity",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lengthFeet"],["mat-header-cell","","mat-sort-header","lengthInFeet",4,"matHeaderCellDef"],["matColumnDef","lengthMeters"],["mat-header-cell","","mat-sort-header","lengthInMeters",4,"matHeaderCellDef"],["matColumnDef","tier"],["mat-header-cell","","mat-sort-header","tierNumber",4,"matHeaderCellDef"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","","class","data-column-right",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","quantity"],["mat-cell",""],["mat-header-cell","","mat-sort-header","lengthInFeet"],["mat-header-cell","","mat-sort-header","lengthInMeters"],["mat-header-cell","","mat-sort-header","tierNumber"],["mat-header-cell","","aria-label","row actions"],["mat-cell","",1,"data-column-right"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],["class","element-detail",4,"ngIf"],[1,"element-detail"],[1,"container-description"],[1,"element-description-group"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"element-row",3,"click"],["mat-row","",1,"detail-row"]],template:function(a,o){1&a&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Q,2,0,"th",2),t.YNc(3,V,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,j,2,0,"th",5),t.YNc(6,J,2,1,"td",3),t.BQk(),t.ynx(7,6),t.YNc(8,F,2,0,"th",7),t.YNc(9,$,2,1,"td",3),t.BQk(),t.ynx(10,8),t.YNc(11,B,2,0,"th",9),t.YNc(12,L,2,1,"td",3),t.BQk(),t.ynx(13,10),t.YNc(14,H,2,0,"th",11),t.YNc(15,W,4,2,"td",12),t.BQk(),t.ynx(16,13),t.YNc(17,X,2,2,"td",3),t.BQk(),t.YNc(18,tt,1,0,"tr",14),t.YNc(19,et,1,2,"tr",15),t.YNc(20,nt,1,0,"tr",16),t.qZA()),2&a&&(t.Q6J("dataSource",o.dataSource),t.xp6(18),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,it)))},dependencies:[u.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,Z.Hw,_.RK,d.YE,d.nU],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;width:100%;overflow-x:auto}h4[_ngcontent-%COMP%]{margin-top:20;margin-bottom:.4rem}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem;border:solid pink 3px}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{padding:1px;margin:0;align-items:flex-end}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background-color:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background-color:#ddd}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem;justify-content:flex-start;align-items:center}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 0 25%;max-width:275px;min-width:150px}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .75rem 0 0}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1;margin:.1rem}.successLabel[_ngcontent-%COMP%]{color:green}.errorLabel[_ngcontent-%COMP%]{color:red}.infoLabel[_ngcontent-%COMP%]{color:#000}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:3rem}.selected[_ngcontent-%COMP%]{background-color:#0000000a}"]})}return e})();function ot(e,i){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Quantity"),t.qZA())}function ct(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function rt(e,i){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Length (ft)"),t.qZA())}function lt(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInFeet," ")}}function st(e,i){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Length (m)"),t.qZA())}function pt(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lengthInMeters," ")}}function mt(e,i){1&e&&(t.TgZ(0,"th",15),t._uU(1,"\xa0"),t.qZA())}function dt(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function ut(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function gt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",16)(1,"button",17),t.NdJ("click",function(o){const p=t.CHM(n).$implicit,T=t.oxw();return T.expandedElement=T.expandedElement===p?null:p,t.KtG(o.stopPropagation())}),t.YNc(2,dt,2,0,"mat-icon",18),t.YNc(3,ut,2,0,"mat-icon",18),t.qZA()()}if(2&e){const n=i.$implicit,a=t.oxw();t.xp6(2),t.Q6J("ngIf",a.expandedElement!==n),t.xp6(1),t.Q6J("ngIf",a.expandedElement===n)}}function ft(e,i){if(1&e&&(t.TgZ(0,"td",14)(1,"div",19)(2,"div",20)(3,"div")(4,"div",21)(5,"b"),t._uU(6,"Category: "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",21)(10,"b"),t._uU(11,"Grade: "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()()(),t.TgZ(14,"div")(15,"div",21)(16,"b"),t._uU(17,"Size (m): "),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"div",21)(21,"b"),t._uU(22,"Size (ft): "),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.qZA()()()(),t.TgZ(25,"div",21)(26,"b"),t._uU(27,"Description:"),t.qZA(),t.TgZ(28,"span"),t._uU(29),t.qZA()(),t.TgZ(30,"div",21)(31,"b"),t._uU(32,"Notes:"),t.qZA(),t.TgZ(33,"span"),t._uU(34),t.qZA()()()()),2&e){const n=i.$implicit,a=t.oxw();t.uIk("colspan",a.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),t.xp6(7),t.Oqu(n.equipmentDefinition.category),t.xp6(5),t.Oqu(n.equipmentDefinition.grade.name),t.xp6(6),t.Oqu(n.equipmentDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.equipmentDefinition.size.sizeMetric),t.xp6(5),t.Oqu(n.equipmentDefinition.description),t.xp6(5),t.Oqu(n.equipmentDefinition.notes)}}function ht(e,i){1&e&&t._UZ(0,"tr",22)}function _t(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",23),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.expandedElement=p.expandedElement===l?null:l)}),t.qZA()}if(2&e){const n=i.$implicit,a=t.oxw();t.ekj("expanded-row",a.expandedElement===n)}}function xt(e,i){1&e&&t._UZ(0,"tr",24)}const wt=function(){return["expandedDetail"]};let Ct=(()=>{class e{constructor(){this.equipment=[],this.columnsToDisplay=["quantity","lengthFeet","lengthMeters"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.dataSource=new c.by,this.expandedElement=null}ngOnInit(){this.dataSource.data=this.equipment}ngOnChanges(n){n.equipment&&this.updateDataSource()}updateDataSource(){this.dataSource.data=this.equipment}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-equipment-detail"]],inputs:{equipment:"equipment"},features:[t.TTD],decls:18,vars:5,consts:[["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lengthFeet"],["matColumnDef","lengthMeters"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","","class","data-column-right",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-cell","",1,"data-column-right"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"element-detail"],[1,"container-description",2,"padding-bottom","2px"],[1,"element-description"],["mat-header-row",""],["mat-row","",1,"element-row",3,"click"],["mat-row","",1,"detail-row"]],template:function(a,o){1&a&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,ot,2,0,"th",2),t.YNc(3,ct,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,rt,2,0,"th",2),t.YNc(6,lt,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,st,2,0,"th",2),t.YNc(9,pt,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,mt,2,0,"th",7),t.YNc(12,gt,4,2,"td",8),t.BQk(),t.ynx(13,9),t.YNc(14,ft,35,8,"td",3),t.BQk(),t.YNc(15,ht,1,0,"tr",10),t.YNc(16,_t,1,2,"tr",11),t.YNc(17,xt,1,0,"tr",12),t.qZA()),2&a&&(t.Q6J("dataSource",o.dataSource),t.xp6(15),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,wt)))},dependencies:[u.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,Z.Hw,_.RK,d.YE,d.nU],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;width:100%;overflow-x:auto}h4[_ngcontent-%COMP%]{margin-top:20;margin-bottom:.4rem}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem;border:solid pink 3px}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{padding:1px;margin:0;align-items:flex-end}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background-color:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background-color:#ddd}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem;justify-content:flex-start;align-items:center}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 0 25%;max-width:275px;min-width:150px}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .75rem 0 0}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1;margin:.1rem}.successLabel[_ngcontent-%COMP%]{color:green}.errorLabel[_ngcontent-%COMP%]{color:red}.infoLabel[_ngcontent-%COMP%]{color:#000}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:3rem}.selected[_ngcontent-%COMP%]{background-color:#0000000a}"],data:{animation:[(0,s.X$)("detailExpand",[(0,s.SB)("collapsed",(0,s.oB)({height:"0px",minHeight:"0"})),(0,s.SB)("expanded",(0,s.oB)({height:"*"})),(0,s.eR)("expanded <=> collapsed",(0,s.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function Zt(e,i){if(1&e&&(t.TgZ(0,"div",3)(1,"span"),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.rack.name)}}function Tt(e,i){if(1&e&&(t.TgZ(0,"div")(1,"b"),t._uU(2,"Jts/Tier: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.hij("",n.rack.jointsPerTier," ")}}function yt(e,i){if(1&e&&(t.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"div",6),t.YNc(8,Tt,5,1,"div",1),t.qZA()()()),2&e){const n=t.oxw();t.xp6(4),t.hij("",n.rack.shopLocationName," "),t.xp6(2),t.Oqu(n.rack.description),t.xp6(2),t.Q6J("ngIf","Pipe"===n.rack.rackType)}}function Pt(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-pipe-detail",7),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("pipes",n.rack.pipeList)}}function Ot(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-equipment-detail",8),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("equipment",n.rack.equipmentList)}}function kt(e,i){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.qZA(),t.YNc(3,Pt,2,1,"ng-container",1),t.YNc(4,Ot,2,1,"ng-container",1),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Oqu("Pipe"===n.rack.rackType?"Pipe":"Equipment"),t.xp6(1),t.Q6J("ngIf","Pipe"===n.rack.rackType),t.xp6(1),t.Q6J("ngIf","Equipment"===n.rack.rackType)}}function qt(e,i){1&e&&(t.TgZ(0,"div",9),t._UZ(1,"mat-progress-spinner",10),t.qZA())}let Dt=(()=>{class e{constructor(n){this.store=n,this.rack=null,this.rack$=this.store.select(f.V),this.loading=!1,this.destroy$=new P.x}ngOnInit(){this.rack$.pipe((0,C.R)(this.destroy$)).subscribe(n=>{n&&(this.loading=!1,this.rack=n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(k.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-rack-view"]],decls:7,vars:4,consts:[["class","title-container",4,"ngIf"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"title-container"],[1,"container-row"],[1,"data-column-left"],[1,"data-column-right"],[3,"pipes"],[3,"equipment"],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t.YNc(2,Zt,3,1,"div",0),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,yt,9,3,"div",1),t.YNc(5,kt,5,3,"div",1),t.qZA(),t.YNc(6,qt,2,0,"div",2),t.qZA()),2&a&&(t.xp6(2),t.Q6J("ngIf",o.rack),t.xp6(2),t.Q6J("ngIf",o.rack),t.xp6(1),t.Q6J("ngIf",o.rack),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[u.O5,q.Ou,h.a8,h.dn,h.dk,at,Ct],styles:["mat-card[_ngcontent-%COMP%]{min-width:500px;width:100%;overflow-x:auto}h4[_ngcontent-%COMP%]{margin-top:20;margin-bottom:.4rem}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:700;font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem;border:solid pink 3px}.container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.data-column-left[_ngcontent-%COMP%], .data-column-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.data-column-right[_ngcontent-%COMP%]{padding:1px;margin:0;align-items:flex-end}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background-color:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background-color:#ddd}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem;justify-content:flex-start;align-items:center}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 0 25%;max-width:275px;min-width:150px}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .75rem 0 0}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1;margin:.1rem}.successLabel[_ngcontent-%COMP%]{color:green}.errorLabel[_ngcontent-%COMP%]{color:red}.infoLabel[_ngcontent-%COMP%]{color:#000}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:3rem}.selected[_ngcontent-%COMP%]{background-color:#0000000a}"],data:{animation:[(0,s.X$)("detailExpand",[(0,s.SB)("collapsed",(0,s.oB)({height:"0px",minHeight:"0"})),(0,s.SB)("expanded",(0,s.oB)({height:"*"})),(0,s.eR)("expanded <=> collapsed",(0,s.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})();function Mt(e,i){if(1&e&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.shopLocationId),t.xp6(1),t.hij(" ",n.name," ")}}function bt(e,i){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Rack Name"),t.qZA())}function vt(e,i){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function At(e,i){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Rack Type"),t.qZA())}function Ut(e,i){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.rackType," ")}}function Rt(e,i){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Shop"),t.qZA())}function Nt(e,i){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.shopLocationName," ")}}function St(e,i){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Details"),t.qZA())}function Et(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",32)(1,"button",33),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.viewRack(l))}),t._UZ(2,"mat-icon",34),t.qZA()()}}function Yt(e,i){1&e&&t._UZ(0,"tr",35)}function It(e,i){1&e&&t._UZ(0,"tr",36)}function Qt(e,i){1&e&&(t.TgZ(0,"div",37),t._UZ(1,"mat-progress-spinner",38),t.qZA())}const Vt=[{path:"",component:(()=>{class e{constructor(n,a,o){this.router=n,this.store=a,this.localStorageService=o,this.displayedColumns=["name","rackType","shopName","actions"],this.dataSource=new c.by,this.racksFullList=[],this.shopsFullList=[],this.searchParams=null,this.destroy$=new P.x,this.racks$=this.store.select(f.ME),this.loadingRacks=!1,this.loading$=this.store.select(f.zV),this.racksFullList$=this.store.select(f.ME)}ngOnInit(){this.buildForm(),this.loadingRacks=!0,this.store.dispatch((0,O.NW)({searchParams:null})),this.store.dispatch((0,N.L)()),this.store.select(R.ST).pipe((0,C.R)(this.destroy$)).subscribe(n=>{this.shopsFullList=n,this.rackForm.get("shop").setValue("all")}),this.setSearchParams(),this.racks$.pipe((0,C.R)(this.destroy$),(0,A.K)(n=>(console.error("Error fetching racks:",n),(0,U.of)(null)))).subscribe(n=>{n?(this.dataSource=new c.by(n),this.loadingRacks=!1,n.length>0&&(this.store.dispatch((0,g.rK)({rackId:n[0].rackId})),this.applySorting())):console.log("No racks data received")}),this.store.dispatch((0,g.k2)({searchParams:this.searchParams})),this.loading$.subscribe(n=>{this.loadingRacks=n})}buildForm(){this.rackForm=new m.cw({rackName:new m.NI(""),rackType:new m.NI("all"),shop:new m.NI("'all'")})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}applySorting(){this.sort&&this.dataSource&&(this.dataSource.sort=this.sort,this.sort.active="rackType",this.sort.direction="desc",this.sort.sortChange.emit({active:this.sort.active,direction:this.sort.direction}),this.dataSource.sortingDataAccessor=(n,a)=>{switch(a){case"rackType":return n.rackType;case"name":return n.name;default:return""}})}setSearchParams(){const n=this.rackForm.value;let a={};""!=n.rackName&&(a.name=n.rackName),"all"!=n.rackType&&(a.rackType=n.rackType),"all"!=n.shop&&""!==n.shop&&(a.shopId=n.shop),this.searchParams=Object.keys(a).length>0?a:null}clearShopLocationCache(){this.localStorageService.removeItem("shopLocations"),this.store.dispatch((0,O.NW)({searchParams:null}))}onFormSubmit(n){n.preventDefault(),this.filter()}filter(){this.setSearchParams(),this.loadingRacks=!0,this.store.dispatch((0,g.k2)({searchParams:this.searchParams}))}clearForm(){this.rackForm.reset(),this.searchParams=null,this.store.dispatch((0,g.k2)({searchParams:this.searchParams}))}viewRack(n){this.store.dispatch((0,g.rK)({rackId:n.rackId}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(w.F0),t.Y36(k.yh),t.Y36(S.n))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-rack"]],viewQuery:function(a,o){if(1&a&&(t.Gf(v.NW,5),t.Gf(d.YE,5)),2&a){let l;t.iGM(l=t.CRH())&&(o.paginator=l.first),t.iGM(l=t.CRH())&&(o.sort=l.first)}},decls:54,vars:6,consts:[[1,"container-tab"],[1,"section-search"],["expanded","true",1,"filter-options"],[3,"formGroup","ngSubmit"],[1,"container-filter"],["appearance","outline","color","accent"],["matInput","","formControlName","rackName","placeholder","Enter rack name"],["formControlName","shop"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["formControlName","rackType"],["value","Pipe"],["value","Equipment"],[1,"item-buttons"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","","type","button","color","warn",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rackType"],["matColumnDef","shopName"],["matColumnDef","actions"],["mat-cell","","class","column-actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner",4,"ngIf"],[1,"section-view"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"column-actions"],["mat-icon-button","","aria-label","View tally",3,"click"],["aria-hidden","false","fontIcon","open_in_new","color","accent"],["mat-header-row",""],["mat-row",""],[1,"spinner"],["color","primary","mode","indeterminate"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-accordion")(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),t._uU(6,"Filter options"),t.qZA()(),t.TgZ(7,"form",3),t.NdJ("ngSubmit",function(p){return o.onFormSubmit(p)}),t.TgZ(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Rack Name"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"Shop"),t.qZA(),t.TgZ(16,"mat-select",7)(17,"mat-option",8),t._uU(18,"All"),t.qZA(),t.YNc(19,Mt,2,2,"mat-option",9),t.qZA()(),t.TgZ(20,"mat-form-field",5)(21,"mat-label"),t._uU(22,"Rack Type"),t.qZA(),t.TgZ(23,"mat-select",10)(24,"mat-option",8),t._uU(25,"All"),t.qZA(),t.TgZ(26,"mat-option",11),t._uU(27,"Pipe"),t.qZA(),t.TgZ(28,"mat-option",12),t._uU(29,"Equipment"),t.qZA()()(),t.TgZ(30,"div",13)(31,"button",14),t.NdJ("click",function(){return o.clearForm()}),t._uU(32,"Clear filters"),t.qZA(),t.TgZ(33,"button",15),t.NdJ("click",function(){return o.filter()}),t._uU(34,"Filter"),t.qZA(),t.TgZ(35,"button",16),t.NdJ("click",function(){return o.clearShopLocationCache()}),t._uU(36,"Clear Cache"),t.qZA()()()()()(),t.TgZ(37,"table",17),t.ynx(38,18),t.YNc(39,bt,2,0,"th",19),t.YNc(40,vt,2,1,"td",20),t.BQk(),t.ynx(41,21),t.YNc(42,At,2,0,"th",19),t.YNc(43,Ut,2,1,"td",20),t.BQk(),t.ynx(44,22),t.YNc(45,Rt,2,0,"th",19),t.YNc(46,Nt,2,1,"td",20),t.BQk(),t.ynx(47,23),t.YNc(48,St,2,0,"th",19),t.YNc(49,Et,3,0,"td",24),t.BQk(),t.YNc(50,Yt,1,0,"tr",25),t.YNc(51,It,1,0,"tr",26),t.qZA(),t.YNc(52,Qt,2,0,"div",27),t.qZA(),t._UZ(53,"app-rack-view",28),t.qZA()),2&a&&(t.xp6(7),t.Q6J("formGroup",o.rackForm),t.xp6(12),t.Q6J("ngForOf",o.shopsFullList),t.xp6(18),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.loadingRacks))},dependencies:[u.sg,u.O5,q.Ou,D.KE,D.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.a8,Z.Hw,_.lW,_.RK,E.Nt,Y.gD,I.ey,x.pp,x.ib,x.yz,x.yK,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,d.YE,d.nU,Dt],styles:["mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}mat-form-field[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.section[_ngcontent-%COMP%]{padding-left:1rem;align-self:flex-start}h4[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.column-actions[_ngcontent-%COMP%]{width:0}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem 0}mat-expansion-panel[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}mat-expansion-panel[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:1rem;width:12rem}mat-expansion-panel[_ngcontent-%COMP%]   .date-field[_ngcontent-%COMP%]{width:auto}mat-expansion-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1.5rem}table[_ngcontent-%COMP%]{margin-top:1rem}"]})}return e})()}];let jt=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[w.Bz.forChild(Vt),w.Bz]})}return e})(),Jt=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.ez,M.q,b.m,jt]})}return e})()}}]);