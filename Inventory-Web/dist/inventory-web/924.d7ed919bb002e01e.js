"use strict";(self.webpackChunkInventory_Web=self.webpackChunkInventory_Web||[]).push([[924],{7924:(Ue,Z,a)=>{a.r(Z),a.d(Z,{PipePropertySizeModule:()=>Ae});var P=a(6814),z=a(5195),O=a(617),b=a(5940),d=a(5313),S=a(5683),T=a(5986),l=a(6223),i=a(4221),g=a(5154),A=a(2032),U=a(1303),D=a(8645),I=a(2572),f=a(7398),R=a(9773),B=a(8180),j=a(6293);const m="[Pipe Properties Size]",C=(0,i.PH)(`${m} Get Sizes`,(0,i.Ky)()),w=(0,i.PH)(`${m} Get Sizes Success`,(0,i.Ky)()),N=(0,i.PH)(`${m} Get Sizes Failure`,(0,i.Ky)()),y=(0,i.PH)(`${m} Create PipeProperty_Size`,(0,i.Ky)()),$=(0,i.PH)(`${m} Create PipeProperty_Size Success`,(0,i.Ky)()),F=(0,i.PH)(`${m} Create PipeProperty_Size Error`,(0,i.Ky)()),_=(0,i.PH)(`${m} Update PipeProperty_Size`,(0,i.Ky)()),Y=(0,i.PH)(`${m} Update PipeProperty_Size Success`,(0,i.Ky)()),Q=(0,i.PH)(`${m} Update PipeProperty_Size Error`,(0,i.Ky)()),k=(0,i.PH)(`${m} Reset Size Notifications`),h=(0,j.H)({sortComparer:function W(t,n){return t.sizeMetric-n.sizeMetric},selectId:t=>t.pipeProperty_SizeId}),V=h.getInitialState({ids:[],entities:{},loadingSizes:!1,errorLoadingSizes:null,creatingSize:!1,createdSize:null,errorCreatingSize:null,updatingSize:!1,updatedSize:null,errorUpdatingSize:null,selectedSize:null,errorLoadingSelectedSize:null}),ee=(0,i.Lq)(V,(0,i.on)(C,t=>({...t,loadingSizes:!0,errorLoadingSizes:null})),(0,i.on)(w,(t,{sizes:n})=>h.addMany(n,{...t,loadingSizes:!1,errorLoadingSizes:null})),(0,i.on)(N,(t,{errorLoadingSizes:n})=>({...t,loadingSizes:!1,errorLoadingSizes:n})),(0,i.on)(y,t=>({...t,creatingSize:!0,createdSize:null,errorCreatingSize:null})),(0,i.on)($,(t,{size:n})=>h.addOne(n,{...t,creatingSize:!1,createdSize:n,errorCreatingSize:null})),(0,i.on)(F,(t,{errorCreatingSize:n})=>({...t,creatingSize:!1,errorCreatingSize:n})),(0,i.on)(_,t=>({...t,updatingSize:!0,errorUpdatingSize:null})),(0,i.on)(Y,(t,{id:n,size:o})=>h.updateOne({id:n,changes:o},{...t,updatingSize:!1,updatedSize:o,errorUpdatingSize:null})),(0,i.on)(Q,(t,{errorUpdatingSize:n})=>({...t,updatingSize:!1,errorUpdatingSize:n})),(0,i.on)(k,t=>({...t,createdSize:null,updatedSize:null,errorLoadingSizes:null,errorCreatingSize:null,errorUpdatingSize:null})));function te(t,n){return ee(t,n)}const{selectEntities:ie,selectAll:ne}=h.getSelectors(),p=(0,i.ZF)("pipeProperty_Size"),re=((0,i.P1)(p,t=>t),(0,i.P1)(p,ne)),oe=((0,i.P1)(p,ie),(0,i.P1)(p,t=>t.loadingSizes)),q=(0,i.P1)(p,t=>t.errorLoadingSizes),E=((0,i.P1)(p,t=>t.creatingSize),(0,i.P1)(p,t=>t.createdSize)),J=(0,i.P1)(p,t=>t.errorCreatingSize),L=((0,i.P1)(p,t=>t.selectedSize),(0,i.P1)(p,t=>t.errorLoadingSelectedSize)),H=((0,i.P1)(p,t=>t.updatingSize),(0,i.P1)(p,t=>t.updatedSize));(0,i.P1)(p,t=>t.errorUpdatingSize);var e=a(5879);function ae(t,n){1&t&&(e.TgZ(0,"th",29),e._uU(1,"Size Metric (cm)"),e.qZA())}function se(t,n){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.Oqu(o.sizeMetric)}}function ce(t,n){1&t&&(e.TgZ(0,"th",29),e._uU(1,"Size Imperial (inches)"),e.qZA())}function le(t,n){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.Oqu(o.sizeImperial)}}function pe(t,n){1&t&&(e.TgZ(0,"th",29),e._uU(1,"Is Active"),e.qZA())}function de(t,n){1&t&&(e.TgZ(0,"mat-icon",33),e._uU(1,"check"),e.qZA())}function me(t,n){1&t&&(e.TgZ(0,"mat-icon",34),e._uU(1,"close"),e.qZA())}function ue(t,n){if(1&t&&(e.TgZ(0,"td",30),e.YNc(1,de,2,0,"mat-icon",31),e.YNc(2,me,2,0,"ng-template",null,32,e.W1O),e.qZA()),2&t){const o=n.$implicit,s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.isActive)("ngIfElse",s)}}function ge(t,n){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Edit"),e.qZA())}function ze(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"td",30)(1,"button",36),e.NdJ("click",function(){const c=e.CHM(o).$implicit,u=e.oxw();return e.KtG(u.selectSize(c))}),e._UZ(2,"mat-icon",37),e.qZA()()}}function fe(t,n){1&t&&e._UZ(0,"tr",38)}function he(t,n){1&t&&e._UZ(0,"tr",39)}function Se(t,n){1&t&&(e.TgZ(0,"div",40),e._UZ(1,"mat-progress-spinner",41),e.qZA())}function Pe(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Size in metric is required. "),e.qZA())}function Ce(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," The value must be a non-negative number. "),e.qZA())}function ye(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Size in imperial is required. "),e.qZA())}function _e(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," The value must be a non-negative number. "),e.qZA())}function ve(t,n){if(1&t&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&t){const o=n.ngIf;e.xp6(1),e.hij(" ",o," ")}}function Me(t,n){1&t&&(e.TgZ(0,"div",43),e._uU(1," Size created successfully! "),e.qZA())}function xe(t,n){1&t&&(e.TgZ(0,"div",43),e._uU(1," Size updated successfully! "),e.qZA())}const Ze=[{path:"",component:(()=>{class t{constructor(o,s){this.store=o,this.fb=s,this.displayedColumns=["sizeMetric","sizeImperial","isActive","actions"],this.editingSize=null,this.destroy$=new D.x,this.sizeForm=this.fb.group({sizeMetric:["",[l.kI.required,l.kI.pattern(/^\d+(\.\d{1,3})?$/)]],sizeImperial:["",[l.kI.required,l.kI.pattern(/^\d+(\.\d{1,3})?$/)]],isActive:[!0,l.kI.required]}),this.dataSource=new d.by([]),this.errorMessage$=(0,I.a)([this.store.select(q),this.store.select(J),this.store.select(L)]).pipe((0,f.U)(([r,c,u])=>r||c||u?"An error occurred":"")),this.isSizeCreated$=this.store.select(E).pipe((0,f.U)(r=>!!r)),this.isSizeUpdated$=this.store.select(H).pipe((0,f.U)(r=>!!r))}ngOnInit(){this.loadingSizes$=this.store.select(oe),this.store.dispatch(C({searchParams:null})),this.store.pipe((0,i.Ys)(re),(0,R.R)(this.destroy$)).subscribe(o=>this.dataSource.data=o)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.loadingSizesSubscription&&this.loadingSizesSubscription.unsubscribe(),this.checkAndResetNotifications()}selectSize(o){this.editingSize=o,this.sizeForm.patchValue(o),this.checkAndResetNotifications()}checkAndResetNotifications(){(0,I.a)([this.store.select(E),this.store.select(H),this.store.select(q),this.store.select(J),this.store.select(L)]).pipe((0,B.q)(1)).subscribe(([o,s,r,c,u])=>{(o||s||r||c||u)&&this.store.dispatch(k())})}saveOrUpdateSize(){if(this.editingSize){const s={...this.editingSize,...this.sizeForm.value};this.store.dispatch(_({id:this.editingSize.pipeProperty_SizeId,size:s}))}else this.store.dispatch(y({sizeCreate:this.sizeForm.value}));this.resetForm()}resetForm(){this.editingSize=null,this.sizeForm.reset({sizeMetric:"",sizeImperial:"",isActive:!0}),this.checkAndResetNotifications()}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(i.yh),e.Y36(l.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-pipe-property-size"]],decls:58,vars:23,consts:[[1,"container-tab"],[1,"section"],["mat-table","","matSort","",1,"myTable",3,"dataSource"],["matColumnDef","sizeMetric"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sizeImperial"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","class","center-text",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","small-element",4,"matRowDef","matRowDefColumns"],["class","spinner",4,"ngIf"],[1,"editor-card"],[1,"size-form",3,"formGroup"],[1,"widget-container",2,"flex-direction","column"],["appearance","fill",1,"full-width-input",2,"margin-right","4px"],["matInput","","formControlName","sizeMetric","type","number","min","0","step","0.001"],[4,"ngIf"],["appearance","fill",1,"full-width-input"],["matInput","","formControlName","sizeImperial","type","number","min","0","step","0.001"],["formControlName","isActive"],[1,"checkbox-label"],[1,"messages-container"],["class","error-message",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"item-buttons"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","isActive-icon",4,"ngIf","ngIfElse"],["inactiveIcon",""],[1,"isActive-icon"],[1,"isInactive-icon"],["mat-header-cell","","mat-sort-header","",1,"center-text"],["aria-label","View Size",1,"item-buttons",3,"click"],["aria-hidden","false","fontIcon","open_in_new","color","accent"],["mat-header-row",""],["mat-row","",1,"small-element"],[1,"spinner"],["color","primary","mode","indeterminate"],[1,"error-message"],[1,"alert","alert-success"]],template:function(s,r){if(1&s&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Size - Pipe Property"),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"table",2),e.ynx(7,3),e.YNc(8,ae,2,0,"th",4),e.YNc(9,se,2,1,"td",5),e.BQk(),e.ynx(10,6),e.YNc(11,ce,2,0,"th",4),e.YNc(12,le,2,1,"td",5),e.BQk(),e.ynx(13,7),e.YNc(14,pe,2,0,"th",4),e.YNc(15,ue,4,2,"td",5),e.BQk(),e.ynx(16,8),e.YNc(17,ge,2,0,"th",9),e.YNc(18,ze,3,0,"td",5),e.BQk(),e.YNc(19,fe,1,0,"tr",10),e.YNc(20,he,1,0,"tr",11),e.qZA(),e.YNc(21,Se,2,0,"div",12),e.ALo(22,"async"),e.qZA()(),e.TgZ(23,"mat-card",13)(24,"mat-card-header")(25,"mat-card-title"),e._uU(26),e.qZA()(),e.TgZ(27,"mat-card-content")(28,"form",14)(29,"div",15)(30,"mat-form-field",16)(31,"mat-label"),e._uU(32,"Size Metric (cm)"),e.qZA(),e._UZ(33,"input",17),e.YNc(34,Pe,2,0,"mat-error",18),e.YNc(35,Ce,2,0,"mat-error",18),e.qZA(),e.TgZ(36,"mat-form-field",19)(37,"mat-label"),e._uU(38,"Size Imperial (inches)"),e.qZA(),e._UZ(39,"input",20),e.YNc(40,ye,2,0,"mat-error",18),e.YNc(41,_e,2,0,"mat-error",18),e.qZA(),e.TgZ(42,"mat-checkbox",21)(43,"div",22),e._uU(44,"Is Active"),e.qZA()()(),e.TgZ(45,"div",23),e.YNc(46,ve,2,1,"div",24),e.ALo(47,"async"),e.YNc(48,Me,2,0,"div",25),e.ALo(49,"async"),e.YNc(50,xe,2,0,"div",25),e.ALo(51,"async"),e.qZA()()(),e.TgZ(52,"mat-card-actions")(53,"div",26)(54,"button",27),e.NdJ("click",function(){return r.saveOrUpdateSize()}),e._uU(55),e.qZA(),e.TgZ(56,"button",28),e.NdJ("click",function(){return r.resetForm()}),e._uU(57,"Cancel"),e.qZA()()()()()),2&s){let c,u,G,K;e.xp6(6),e.Q6J("dataSource",r.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("ngIf",e.lcZ(22,15,r.loadingSizes$)),e.xp6(5),e.Oqu(r.editingSize?"Edit Size":"Create New Size"),e.xp6(2),e.Q6J("formGroup",r.sizeForm),e.xp6(6),e.Q6J("ngIf",null==(c=r.sizeForm.get("sizeMetric"))?null:c.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(u=r.sizeForm.get("sizeMetric"))?null:u.hasError("min")),e.xp6(5),e.Q6J("ngIf",null==(G=r.sizeForm.get("sizeImperial"))?null:G.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(K=r.sizeForm.get("sizeImperial"))?null:K.hasError("min")),e.xp6(5),e.Q6J("ngIf",e.lcZ(47,17,r.errorMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(49,19,r.isSizeCreated$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(51,21,r.isSizeUpdated$)),e.xp6(4),e.Q6J("disabled",!r.sizeForm.valid),e.xp6(1),e.hij(" ",r.editingSize?"Update":"Create"," ")}},dependencies:[P.O5,z.a8,z.hq,z.dn,z.dk,z.n5,O.Hw,b.Ou,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,S.KE,S.hX,S.TO,T.oG,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.sg,l.u,A.Nt,P.Ov],styles:[".center-text[_ngcontent-%COMP%]{text-align:center}.messages-container[_ngcontent-%COMP%]{margin-top:0}.error-message[_ngcontent-%COMP%], .alert.alert-success[_ngcontent-%COMP%]{margin-bottom:5px}.error-message[_ngcontent-%COMP%]{color:#961b0f;font-weight:700}.alert.alert-success[_ngcontent-%COMP%]{color:#19806f;font-weight:700}.container-tab[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start}.widget-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.section[_ngcontent-%COMP%], .editor-card[_ngcontent-%COMP%]{flex:1;margin:1rem}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}.category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.full-width-input[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:20px}.isActive-icon[_ngcontent-%COMP%]{color:green}.isInactive-icon[_ngcontent-%COMP%]{color:red}.item-buttons[_ngcontent-%COMP%]{width:100%;text-align:center;border:0;background-color:transparent}.item-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:medium;margin-bottom:1rem}.item-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:8px}.mat-card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.mat-card-actions[_ngcontent-%COMP%]{margin-top:auto}.mat-card[_ngcontent-%COMP%]{text-align:center}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}mat-card-title[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem}mat-form-field[_ngcontent-%COMP%]{display:block}@media (max-width: 768px){.section[_ngcontent-%COMP%], .category-editor-card[_ngcontent-%COMP%]{width:calc(100% - 2rem)}}.mat-mdc-header-row.mdc-data-table__header-row[_ngcontent-%COMP%], .mat-mdc-header-row.mdc-data-table__header-row[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;height:auto;line-height:normal}.myTable[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.myTable[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%], .myTable[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{white-space:nowrap;width:100%;box-sizing:border-box;background-color:#fff}.myTable[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;height:1.5rem;width:1.5rem;line-height:1.5rem}.myTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.myTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}.small-element[_ngcontent-%COMP%]{height:30px;min-height:30px}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-layout[_ngcontent-%COMP%]{width:auto}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{white-space:nowrap}.checkbox-label[_ngcontent-%COMP%]{width:auto;white-space:nowrap}"]})}return t})()}];let Oe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[U.Bz.forChild(Ze),U.Bz]})}return t})();var v=a(4664),M=a(6306),x=a(2096),be=a(1767);let Te=(()=>{class t{constructor(o,s){this.actions$=o,this.pipePropertiesService=s,this.loadSizes$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(C),(0,v.w)(()=>this.pipePropertiesService.getSize(null).pipe((0,f.U)(r=>w({sizes:r})),(0,M.K)(r=>(0,x.of)(N({errorLoadingSizes:r}))))))),this.createSize$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(y),(0,v.w)(r=>this.pipePropertiesService.createSize(r.sizeCreate).pipe((0,f.U)(c=>$({size:c})),(0,M.K)(c=>(0,x.of)(F({errorCreatingSize:c}))))))),this.updateSize$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(_),(0,v.w)(({id:r,size:c})=>this.pipePropertiesService.updateSize(r,c).pipe((0,f.U)(()=>Y({id:r,size:c})),(0,M.K)(u=>(0,x.of)(Q({errorUpdatingSize:u})))))))}static#e=this.\u0275fac=function(s){return new(s||t)(e.LFG(g.eX),e.LFG(be.Q))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})(),Ae=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[P.ez,Oe,z.QW,O.Ps,b.Cq,d.p0,S.lN,T.p9,l.UX,l.u5,A.c,i.Aw.forFeature("pipeProperty_Size",te),g.sQ.forFeature([Te])]})}return t})()}}]);